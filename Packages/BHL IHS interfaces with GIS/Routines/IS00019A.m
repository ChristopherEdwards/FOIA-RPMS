IS00019A ;Compiled from script 'Generated: HL IHS LAB O01 RML-O' on AUG 14, 2006
 ;Part 2
 ;Copyright 2006 SAIC
EN S X1="^INTHL7FT(8,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 S @INV@("PID14")=X K DXS,D0
 ;SET PID18 = INSGX\^INTHL7FT(1,3)\\999\@PID20LABO
 S D0=INDA S X=$G(INA("PID20LABO",INI(1)))
 S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,999)
 S @INV@("PID18")=X K DXS,D0
 ;SET PID19 = INSGX\^INTHL7FT(1,3)\\16\#.09
 S D0=INDA S Y(1)=$S($D(^DPT(D0,0)):^(0),1:"") S X=$P(Y(1),U,9)
 S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,16)
 S @INV@("PID19")=X K DXS,D0
 D:'INVS MC^INHS
 K LINE S LINE="",CP=0 S L1="PID" S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,1,L1,.CP) S L1=$G(@INV@("PID1")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 D SETPIECE^INHU(.LINE,DELIM,2,L1,.CP) S L1=$G(@INV@("PID2")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,3,L1,.CP) S L1=$G(@INV@("PID3"))
 S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,4,L1,.CP) S L1=$G(@INV@("PID5")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,6,L1,.CP)
 S L1=$G(@INV@("PID7")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,8,L1,.CP) S L1=$G(@INV@("PID8")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,9,L1,.CP)
 S L1=$G(@INV@("PID11.1"))
 S D0=INDA S X="^" S L1=L1_X
 S L1=L1_$G(@INV@("PID11.2"))
 S D0=INDA S X="^" S L1=L1_X
 S L1=L1_$G(@INV@("PID11.3"))
 S D0=INDA S X="^" S L1=L1_X
 S L1=L1_$G(@INV@("PID11.4"))
 S D0=INDA S X="^" S L1=L1_X
 S L1=L1_$G(@INV@("PID11.5")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,12,L1,.CP) S L1=$G(@INV@("PID13")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 D SETPIECE^INHU(.LINE,DELIM,14,L1,.CP) S L1=$G(@INV@("PID14")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,15,L1,.CP) S L1=$G(@INV@("PID18"))
 S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,19,L1,.CP) S L1=$G(@INV@("PID19")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,20,L1,.CP)
 S LCT=LCT+1,^UTILITY("INH",$J,LCT)=LINE I $D(LINE)>9 M ^UTILITY("INH",$J,LCT)=LINE
 Q
A1 S INDA=INDA0 K INDA0
 SET INSETID=0
 S INDA0=INDA,INI(1)=0  F  S INI(1)=$O(INDA("ORC",INI(1))) Q:'INI(1)  S INDA=$S(INDA("ORC",INI(1)):INDA("ORC",INI(1)),1:INI(1)) D
 .;SET ORC1 = INSGX\^INTHL7F(16938,5)\\2\"OUTPUT TRANSFORM"
 .S D0=INDA S X="OUTPUT TRANSFORM"
 .S X1="^INTHL7F(16938,5)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,2)
 .S @INV@("ORC1")=X K DXS,D0
 .;SET ORC2 = INSGX\^INTHL7FT(1,3)\\250\@ORC2LABO
 .S D0=INDA S X=$G(INA("ORC2LABO",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 .S @INV@("ORC2")=X K DXS,D0
 .;SET ORC9 = INSGX\^INTHL7FT(6,3)\\14\@ORC11LABO
 .S D0=INDA S X=$G(INA("ORC11LABO",INI(1)))
 .S X1="^INTHL7FT(6,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,14)
 .S @INV@("ORC9")=X K DXS,D0
 .;SET ORC12 = INSGX\^INTHL7FT(1,3)\\250\@ORC12LABO
 .S D0=INDA S X=$G(INA("ORC12LABO",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 .S @INV@("ORC12")=X K DXS,D0
 .D:'INVS MC^INHS
 .K LINE S LINE="",CP=0 S L1="ORC" S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,1,L1,.CP) S L1=$G(@INV@("ORC1")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 .D SETPIECE^INHU(.LINE,DELIM,2,L1,.CP) S L1=$G(@INV@("ORC2")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,3,L1,.CP) S L1=$G(@INV@("ORC9"))
 .S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,10,L1,.CP) S L1=$G(@INV@("ORC12")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,13,L1,.CP)
 .S LCT=LCT+1,^UTILITY("INH",$J,LCT)=LINE I $D(LINE)>9 M ^UTILITY("INH",$J,LCT)=LINE
 .SET INSETID=0
 .;SET OBR1 = INSGX\^INTHL7FT(11,3)\\4\"OBR"
 .S D0=INDA S X="OBR"
 .S X1="^INTHL7FT(11,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,4)
 .S @INV@("OBR1")=X K DXS,D0
 .;SET OBR2 = INSGX\^INTHL7FT(1,3)\\250\@ORC2LABO
 .S D0=INDA S X=$G(INA("ORC2LABO",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 .S @INV@("OBR2")=X K DXS,D0
 .;SET OBR4 = INSGX\^INTHL7FT(1,3)\\999\@OBR4LABOL
 .S D0=INDA S X=$G(INA("OBR4LABOL",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,999)
 .S @INV@("OBR4")=X K DXS,D0
 .;SET OBR7 = INSGX\^INTHL7FT(6,3)\\14\@OBR7LABO
 .S D0=INDA S X=$G(INA("OBR7LABO",INI(1)))
 .S X1="^INTHL7FT(6,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,14)
 .S @INV@("OBR7")=X K DXS,D0
 .;SET OBR11 = INSGX\^INTHL7FT(1,3)\\999\@OBR13LABO
 .S D0=INDA S X=$G(INA("OBR13LABO",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,999)
 .S @INV@("OBR11")=X K DXS,D0
 .;SET OBR15 = INSGX\^INTHL7FT(1,3)\\999\@OBR15LABO
 .S D0=INDA S X=$G(INA("OBR15LABO",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,999)
 .S @INV@("OBR15")=X K DXS,D0
 .;SET OBR16 = INSGX\^INTHL7FT(1,3)\\250\@ORC12LABO
 .S D0=INDA S X=$G(INA("ORC12LABO",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 .S @INV@("OBR16")=X K DXS,D0
 .;SET OBR18 = INSGX\^INTHL7FT(1,3)\\999\@OBR18LC
 .S D0=INDA S X=$G(INA("OBR18LC",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,999)
 .S @INV@("OBR18")=X K DXS,D0
 .;SET OBR22 = INSGX\^INTHL7FT(6,3)\\26\@OBR22LABO
 .S D0=INDA S X=$G(INA("OBR22LABO",INI(1)))
 .S X1="^INTHL7FT(6,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,26)
 .S @INV@("OBR22")=X K DXS,D0
 .;SET OBR27 = INSGX\^INTHL7FT(1,3)\\1\@OBR27LABO
 .S D0=INDA S X=$G(INA("OBR27LABO",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,1)
 .S @INV@("OBR27")=X K DXS,D0
 .D:'INVS MC^INHS
 .K LINE S LINE="",CP=0 S L1="OBR" S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,1,L1,.CP) S L1=$G(@INV@("OBR1")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 .D SETPIECE^INHU(.LINE,DELIM,2,L1,.CP) S L1=$G(@INV@("OBR2")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,3,L1,.CP) S L1=$G(@INV@("OBR4"))
 .S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,5,L1,.CP) S L1=$G(@INV@("OBR7")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,8,L1,.CP)
 .S L1=$G(@INV@("OBR11")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,12,L1,.CP) S L1=$G(@INV@("OBR15")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 .D SETPIECE^INHU(.LINE,DELIM,16,L1,.CP) S L1=$G(@INV@("OBR16")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,17,L1,.CP) S L1=$G(@INV@("OBR18"))
 .S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,19,L1,.CP) S L1=$G(@INV@("OBR22")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,23,L1,.CP)
 .S L1=$G(@INV@("OBR27")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,28,L1,.CP)
 .S LCT=LCT+1,^UTILITY("INH",$J,LCT)=LINE I $D(LINE)>9 M ^UTILITY("INH",$J,LCT)=LINE
 .SET INSETID=0
 .S INDA1=INDA,INI(2)=0  F  S INI(2)=$O(INDA("OBX",INI(2))) Q:'INI(2)  S INDA=$S(INDA("OBX",INI(2)):INDA("OBX",INI(2)),1:INI(2)) D
 ..;SET OBX1 = INSGX\^INTHL7FT(11,3)\\3\"OBX"
 ..S D0=INDA S X="OBX"
 ..S X1="^INTHL7FT(11,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,3)
 ..S @INV@("OBX1")=X K DXS,D0
 ..;SET OBX2 = INSGX\^INTHL7FT(1,3)\\999\@OBX2LABOL
 ..S D0=INDA S X=$G(INA("OBX2LABOL",INI(1),INI(2)))
 ..S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,999)
 ..S @INV@("OBX2")=X K DXS,D0
 ..;SET OBX3.1 = INSGX\^INTHL7FT(1,3)\\999\@OBX3LABOL1
 ..S D0=INDA S X=$G(INA("OBX3LABOL1",INI(1),INI(2)))
 ..S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,999)
 ..S @INV@("OBX3.1")=X K DXS,D0
 ..;SET OBX3.2 = INSGX\^INTHL7FT(1,3)\\999\@OBX3LABOL2
9 ..D EN^IS00019B
 .D B2^IS00019B
 G B1^IS00019B
