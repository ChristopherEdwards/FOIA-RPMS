IS00028B ;Compiled from script 'Generated: HL IHS IZV04 V02VXX OUT-O' on SEP 05, 2011
 ;Part 3
 ;Copyright 2011 SAIC
EN S D0=INDA S Y(1)=$S($D(^DPT(D0,.11)):^(.11),1:"") S X=$P(Y(1),U,7),X=X S X=X,Y(2)=$G(X) S X=1,Y(3)=$G(X) S X=4,X=$E(Y(2),Y(3),X)
 S @INV@("PID12")=X K DXS,D0
 ;SET PID13 = INSGX\^INTHL7F(16982,5)\\250\#.131
 S D0=INDA S Y(1)=$S($D(^DPT(D0,.13)):^(.13),1:"") S X=$P(Y(1),U,1)
 S X1="^INTHL7F(16982,5)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 S @INV@("PID13")=X K DXS,D0
 ;SET PID14 = INSGX\^INTHL7F(16983,5)\\20\#.132
 S D0=INDA S Y(1)=$S($D(^DPT(D0,.13)):^(.13),1:"") S X=$P(Y(1),U,2)
 S X1="^INTHL7F(16983,5)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,20)
 S @INV@("PID14")=X K DXS,D0
 ;SET PID17 = INSGX\^INTHL7FT(17,3)\\250\#.08
 S D0=INDA S Y(1)=$S($D(^DPT(D0,0)):^(0),1:"") S X=$P($G(^DIC(13,+$P(Y(1),U,8),0)),U)
 S X1="^INTHL7FT(17,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 S @INV@("PID17")=X K DXS,D0
 ;SET PID19 = INSGX\^INTHL7FT(1,3)\\16\#.09
 S D0=INDA S Y(1)=$S($D(^DPT(D0,0)):^(0),1:"") S X=$P(Y(1),U,9)
 S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,16)
 S @INV@("PID19")=X K DXS,D0
 ;SET PID22 = INSGX\^INTHL7F(16984,5)\\200\"OUTPUT TRANSFORM"
 S D0=INDA S X="OUTPUT TRANSFORM"
 S X1="^INTHL7F(16984,5)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,200)
 S @INV@("PID22")=X K DXS,D0
 D:'INVS MC^INHS
 K LINE S LINE="",CP=0 S L1="PID" S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,1,L1,.CP) S L1=$G(@INV@("PID1")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 D SETPIECE^INHU(.LINE,DELIM,2,L1,.CP) S L1=$G(@INV@("PID2")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,3,L1,.CP) S L1=$G(@INV@("PID3.1"))
 S D0=INDA S X="^" S L1=L1_X
 S L1=L1_$G(@INV@("PID3.2"))
 S D0=INDA S X="^" S L1=L1_X
 S L1=L1_$G(@INV@("PID3.3"))
 S D0=INDA S X="^" S L1=L1_X
 S L1=L1_$G(@INV@("PID3.4"))
 S D0=INDA S X="^" S L1=L1_X
 S L1=L1_$G(@INV@("PID3.5")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,4,L1,.CP) S L1=$G(@INV@("PID5")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 D SETPIECE^INHU(.LINE,DELIM,6,L1,.CP) S L1=$G(@INV@("PID6")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,7,L1,.CP) S L1=$G(@INV@("PID7"))
 S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,8,L1,.CP) S L1=$G(@INV@("PID8")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,9,L1,.CP)
 S L1=$G(@INV@("PID10")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,11,L1,.CP) S L1=$G(@INV@("PID11.1"))
 S D0=INDA S X="^" S L1=L1_X
 S L1=L1_$G(@INV@("PID11.2"))
 S D0=INDA S X="^" S L1=L1_X
 S L1=L1_$G(@INV@("PID11.3"))
 S D0=INDA S X="^" S L1=L1_X
 S L1=L1_$G(@INV@("PID11.4"))
 S D0=INDA S X="^" S L1=L1_X
 S L1=L1_$G(@INV@("PID11.5")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,12,L1,.CP) S L1=$G(@INV@("PID12")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 D SETPIECE^INHU(.LINE,DELIM,13,L1,.CP) S L1=$G(@INV@("PID13")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,14,L1,.CP) S L1=$G(@INV@("PID14"))
 S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,15,L1,.CP) S L1=$G(@INV@("PID17")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,18,L1,.CP)
 S L1=$G(@INV@("PID19")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,20,L1,.CP) S L1=$G(@INV@("PID22")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 D SETPIECE^INHU(.LINE,DELIM,23,L1,.CP)
 S LCT=LCT+1,^UTILITY("INH",$J,LCT)=LINE I $D(LINE)>9 M ^UTILITY("INH",$J,LCT)=LINE
 Q
A1 S INDA=INDA0 K INDA0
 D:'INVS MC^INHS
 ;Entering END section.
 I $G(INSTERR) Q $S($G(INREQERR)>INSTERR:INREQERR,1:INSTERR)
 S UIF=$$NEWO^INHD(INDEST,"^UTILITY(""INH"",$J)",+$P($G(^INRHT(INTT,0)),U,12),INTT,MESSID,$G(INQUE),$G(INORDUZ),$G(INORDIV),.INUIF6,.INUIF7,$G(INA("INMIDGEN")))
 I UIF<0 D ERROR^INHS("UIF creation failed",2) Q 2
 Q 0
