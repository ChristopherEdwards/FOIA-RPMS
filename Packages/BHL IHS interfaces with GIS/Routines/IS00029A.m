IS00029A ;Compiled from script 'Generated: HL IHS IZV04 V03VXR OUT-O' on FEB 28, 2013
 ;Part 2
 ;Copyright 2013 SAIC
EN S D0=INDA S X=$G(INA("QRD4"))
 S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,100)
 S @INV@("QRD4")=X K DXS,D0
 ;SET QRD7 = INSGX\^INTHL7FT(1,3)\\10\@QRD7
 S D0=INDA S X=$G(INA("QRD7"))
 S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,10)
 S @INV@("QRD7")=X K DXS,D0
 ;SET QRD8 = @QRD8
 S D0=INDA S X=$G(INA("QRD8"))
 S @INV@("QRD8")=X K DXS,D0
 ;SET QRD9 = INSGX\^INTHL7FT(1,3)\\60\@QRD9
 S D0=INDA S X=$G(INA("QRD9"))
 S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,60)
 S @INV@("QRD9")=X K DXS,D0
 ;SET QRD10 = INSGX\^INTHL7FT(17,3)\\60\@QRD10
 S D0=INDA S X=$G(INA("QRD10"))
 S X1="^INTHL7FT(17,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,60)
 S @INV@("QRD10")=X K DXS,D0
 ;SET QRD12 = INSGX\^INTHL7FT(1,3)\\1\"T"
 S D0=INDA S X="T"
 S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,1)
 S @INV@("QRD12")=X K DXS,D0
 D:'INVS MC^INHS
 K LINE S LINE="",CP=0 S L1="QRD" S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,1,L1,.CP) S L1=$G(@INV@("QRD1")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 D SETPIECE^INHU(.LINE,DELIM,2,L1,.CP) S L1=$G(@INV@("QRD2")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,3,L1,.CP) S L1=$G(@INV@("QRD3"))
 S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,4,L1,.CP) S L1=$G(@INV@("QRD4")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,5,L1,.CP)
 S L1=$G(@INV@("QRD7")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,8,L1,.CP)
 S D0=INDA S X=@INV@("QRD8"),Y(1)=$G(X) S X=1,Y(2)=$G(X) S X=100,X=$E(Y(1),Y(2),X) S L1=X
 S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,9,L1,.CP) S L1=$G(@INV@("QRD9")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,10,L1,.CP)
 S L1=$G(@INV@("QRD10")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,11,L1,.CP) S L1=$G(@INV@("QRD12")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 D SETPIECE^INHU(.LINE,DELIM,13,L1,.CP)
 S LCT=LCT+1,^UTILITY("INH",$J,LCT)=LINE I $D(LINE)>9 M ^UTILITY("INH",$J,LCT)=LINE
 SET INSETID=0
 ;SET QRF1 = INSGX\^INTHL7FT(1,3)\\20\@QRF1
 S D0=INDA S X=$G(INA("QRF1"))
 S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,20)
 S @INV@("QRF1")=X K DXS,D0
 ;SET QRF5 = INSGX\^INTHL7FT(1,3)\\240\@QRF5
 S D0=INDA S X=$G(INA("QRF5"))
 S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,240)
 S @INV@("QRF5")=X K DXS,D0
 D:'INVS MC^INHS
 K LINE S LINE="",CP=0 S L1="QRF" S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,1,L1,.CP) S L1=$G(@INV@("QRF1")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 D SETPIECE^INHU(.LINE,DELIM,2,L1,.CP) S L1=$G(@INV@("QRF5")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,6,L1,.CP)
 S LCT=LCT+1,^UTILITY("INH",$J,LCT)=LINE I $D(LINE)>9 M ^UTILITY("INH",$J,LCT)=LINE
 SET INSETID=0
 S INDA0=INDA,INI(1)=0  F  S INI(1)=$O(INDA(2,INI(1))) Q:'INI(1)  S INDA=$S(INDA(2,INI(1)):INDA(2,INI(1)),1:INI(1)) D
 .Q:'$D(^DPT(INDA,0))
 .D ^BHLPID
 .;SET PID1 = INSGX\^INTHL7FT(11,3)\\4\"PID"
 .S D0=INDA S X="PID"
 .S X1="^INTHL7FT(11,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,4)
 .S @INV@("PID1")=X K DXS,D0
 .;SET PID3 = INSGX\^INTHL7FT(1,3)\\250\@PID3
 .S D0=INDA S X=$G(INA("PID3",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 .S @INV@("PID3")=X K DXS,D0
 .;SET PID5 = INSGX\^INTHL7FT(7,3)\\250\#.01
 .S D0=INDA S Y(1)=$S($D(^DPT(D0,0)):^(0),1:"") S X=$P(Y(1),U,1)
 .S X1="^INTHL7FT(7,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 .S @INV@("PID5")=X K DXS,D0
 .;SET PID6 = INSGX\^INTHL7FT(7,3)\\250\#.2403
 .S D0=INDA S Y(1)=$S($D(^DPT(D0,.24)):^(.24),1:"") S X=$P(Y(1),U,3)
 .S X1="^INTHL7FT(7,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 .S @INV@("PID6")=X K DXS,D0
 .;SET PID7 = INSGX\^INTHL7FT(1,3)\\8\@PID7
 .S D0=INDA S X=$G(INA("PID7",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,8)
 .S @INV@("PID7")=X K DXS,D0
 .;SET PID8 = $E(INTERNAL(SEX),1,1)
 .S D0=INDA S Y(1)=$S($D(^DPT(D0,0)):^(0),1:"") S X=$P(Y(1),U,2),X=X S X=X,Y(2)=$G(X) S X=1,Y(3)=$G(X) S X=1,X=$E(Y(2),Y(3),X)
 .S @INV@("PID8")=X K DXS,D0
 .;SET PID10 = INSGX\^INTHL7FT(1,3)\\50\@PID10
 .S D0=INDA S X=$G(INA("PID10",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,50)
 .S @INV@("PID10")=X K DXS,D0
 .;SET PID11 = INSGX\^INTHL7FT(1,3)\\250\@PID11
 .S D0=INDA S X=$G(INA("PID11",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 .S @INV@("PID11")=X K DXS,D0
 .;SET PID12 = $E(INTERNAL(#.117),1,4)
 .S D0=INDA S Y(1)=$S($D(^DPT(D0,.11)):^(.11),1:"") S X=$P(Y(1),U,7),X=X S X=X,Y(2)=$G(X) S X=1,Y(3)=$G(X) S X=4,X=$E(Y(2),Y(3),X)
 .S @INV@("PID12")=X K DXS,D0
 .;SET PID13 = INSGX\^INTHL7FT(1,3)\\250\@PID13
 .S D0=INDA S X=$G(INA("PID13",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 .S @INV@("PID13")=X K DXS,D0
 .;SET PID14 = INSGX\^INTHL7FT(1,3)\\250\@PID14
 .S D0=INDA S X=$G(INA("PID14",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 .S @INV@("PID14")=X K DXS,D0
 .;SET PID17 = INSGX\^INTHL7FT(17,3)\\250\#.08
 .S D0=INDA S Y(1)=$S($D(^DPT(D0,0)):^(0),1:"") S X=$P($G(^DIC(13,+$P(Y(1),U,8),0)),U)
 .S X1="^INTHL7FT(17,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,250)
 .S @INV@("PID17")=X K DXS,D0
 .;SET PID22 = INSGX\^INTHL7FT(1,3)\\200\@PID22
 .S D0=INDA S X=$G(INA("PID22",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,200)
 .S @INV@("PID22")=X K DXS,D0
 .;SET PID24 = INSGX\^INTHL7FT(1,3)\\10\@PID24
 .S D0=INDA S X=$G(INA("PID24",INI(1)))
 .S X1="^INTHL7FT(1,3)" X:$L($G(@X1)) $G(@X1) S X=$E(X,1,10)
 .S @INV@("PID24")=X K DXS,D0
 .D:'INVS MC^INHS
 .K LINE S LINE="",CP=0 S L1="PID" S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,1,L1,.CP) S L1=$G(@INV@("PID1")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 .D SETPIECE^INHU(.LINE,DELIM,2,L1,.CP) S L1=$G(@INV@("PID3")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,4,L1,.CP) S L1=$G(@INV@("PID5"))
 .S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,6,L1,.CP) S L1=$G(@INV@("PID6")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,7,L1,.CP)
 .S L1=$G(@INV@("PID7")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,8,L1,.CP) S L1=$G(@INV@("PID8")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,9,L1,.CP)
 .S L1=$G(@INV@("PID10")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,11,L1,.CP) S L1=$G(@INV@("PID11")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 .D SETPIECE^INHU(.LINE,DELIM,12,L1,.CP) S L1=$G(@INV@("PID12")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,13,L1,.CP) S L1=$G(@INV@("PID13"))
 .S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,14,L1,.CP) S L1=$G(@INV@("PID14")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,15,L1,.CP)
 .S L1=$G(@INV@("PID17")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,18,L1,.CP) S L1=$G(@INV@("PID22")) S:$TR(L1,$G(SUBDELIM))="" L1=""
 .D SETPIECE^INHU(.LINE,DELIM,23,L1,.CP) S L1=$G(@INV@("PID24")) S:$TR(L1,$G(SUBDELIM))="" L1="" D SETPIECE^INHU(.LINE,DELIM,25,L1,.CP)
 .S LCT=LCT+1,^UTILITY("INH",$J,LCT)=LINE I $D(LINE)>9 M ^UTILITY("INH",$J,LCT)=LINE
 .Q
 S INDA=INDA0 K INDA0
 SET INSETID=0
 S INDA0=INDA,INI(1)=0  F  S INI(1)=$O(INDA(2,INI(1))) Q:'INI(1)  S INDA=$S(INDA(2,INI(1)):INDA(2,INI(1)),1:INI(1)) D
 .Q:'$D(^DPT(INDA,0))
 .D ^BYIMNK1
9 .D EN^IS00029B
 G B1^IS00029B
