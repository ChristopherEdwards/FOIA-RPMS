KLASDIA ;BIRM/PDW DIAGNOSTICS FOR CLASSMAN;DEC 18,1990@13:54:58
 ;;1.0
XRAY ;
 ;F Q=0:0 D QUES Q:'START  F I=START:1:END S X=^KLAS(1200,JOB,"S",I,0) W !,I,?5,$L(X),! F J=1:1:$L(X) S Z=$E(X,J) W $S((($A(Z)>31)&($A(Z)<127)):Z,1:"."_$A(Z)_".") ;
 F Q=0:0 D QUES Q:'START  F I=START:1:END Q:'$D(^KLAS(1200,JOB,"S",I,0))  S X=^KLAS(1200,JOB,"S",I,0) W ! F J=1:1:$L(X) S Z=$E(X,J) W $S((($A(Z)>31)&($A(Z)<127)):Z,1:"."_$A(Z)_".") ;
 Q
XX ;
 F Q=0:0 D QUES Q:'START  F I=START:1:END W ^KLAS(1200,JOB,"S",I,0) ;
 Q
QUES I $D(JOB) W !,^KLAS(1200,JOB,"P1") X ^%ZOSF("EON") R !,"START ? ",START:30 R " END ? ",END:30 W ! X ^%ZOSF("EOFF") Q
 E  W !,"VARIABLE JOB NEEDS TO EXIST ", QXRAY    ;
SXRAY ;
 F Q=0:0 D SQUES Q:'START  F I=START:1:END S X=^KLAS(1200,JOB,"R",I,0) W !,I,?5,$L(X),! F J=1:1:$L(X) S Z=$E(X,J) W $S((($A(Z)>31)&($A(Z)<127)):Z,1:"."_$A(Z)_".") ;
 Q
SXX ;
 F Q=0:0 D SQUES Q:'START  F I=START:1:END W ^KLAS(1200,JOB,"R",I,0) ;
 Q
SQUES I $D(JOB) W !,^KLAS(1200,JOB,"R1") R !,"START ? ",START:30 R " END ? ",END:30 W ! Q
 E  W !,"VARIABLE JOB NEEDS TO EXIST " Q
STUFF R !,"NODE",NODE:DTIME Q:'$T!(NODE'?.N)!(NODE="")
 S ^KLAS(1200,NODE,"P1")=^KLAS(1200,JOB,"P1")
 S %X="^KLAS(1200,"_JOB_",""S""," S %Y="^KLAS(1200,"_NODE_",""S"","
 NEW (NODE,%X,%Y) D %XY^%RCR Q
