ACHSPOS6 ; IHS/ITSC/PMF - DATA FOR DEFERRED SERVICES CATEGORY FILE ;  [ 10/19/2001  11:01 AM ]
 ;;3.1;CONTRACT HEALTH MGMT SYSTEM;**18**;JUN 11, 2001
 ;ACHS*3.1*18 7/16/2010;IHS/OIT/ABK;Change every occurrance of Deferred to Unmet Need
 ;
 S $ZT="ERROR^"_$ZN
 S %H=$H D YX^%DTC S NOW=Y
 S ^ACHSINST(ACHSVERS,$ZN,"ENTERED")=NOW
 ;
 I $D(ACHSINST(ACHSVERS,"ERROR")) S ^ACHSINST(ACHSVERS,"ERROR","PREVIOUS ERRORS HAVE NOT BEEN CLEARED")=NOW S ERROR=1,XPDABORT=1 D START^ACHSPOSM(ERROR) Q
 ;
 ;IF FILE CHECKSOK THE FILE HAS ENTRIES DON'T OVERWRITE
 ;{ABK,7/16/10}I $$CHECKSOK("") S %H=$H D YX^%DTC S NOW=Y S ^ACHSINST(ACHSVERS,$ZN,"CHS DEFERRED SERVICES CATEGORY DATA FOUND")=NOW W !?15,"'CHS DEFERRED SERVICES CATEGORY' data found! Not overwriting!" D END Q
 I $$CHECKSOK("") S %H=$H D YX^%DTC S NOW=Y S ^ACHSINST(ACHSVERS,$ZN,"CHS UNMET NEEDS CATEGORY DATA FOUND")=NOW W !?15,"'CHS DEFERRED SERVICES CATEGORY' data found! Not overwriting!" D END Q
 ;
 ;
 N A,B,C
 F A=1:2 S B=$P($T(TAG+A),";;",2) Q:B=""  S @B=$P($T(TAG+(A+1)),";;",2)
 D ENTER
END ;
 S %H=$H D YX^%DTC S NOW=Y
 S ^ACHSINST(ACHSVERS,$ZN,"FINISHED")=NOW
 ;
 Q
ENTER ;
 ;
 S %H=$H D YX^%DTC S NOW=Y
 S ^ACHSINST(ACHSVERS,"ENTER^"_$ZN,"ENTERED")=NOW
 ;
 ;{ABK,7/16/10}W !?15,"'CHS DEFERRED SERVICES CATEGORY' data not found!"
 W !?15,"'CHS UNMET NEEDS CATEGORY' data not found!"
 W !?15,"Loading data! Loading data!"
 S X="^TMP("_$J_",""DFC"")"
 F  S X=$Q(@X) Q:X=""!(X'[("""DFC"""))  D
 .S GLOBAL="^ACHSDFC("_$P(X,",",3,299)
 .S @GLOBAL=@X
 S DIK="^ACHSDFC(" D IXALL^DIK
 ;
 S %H=$H D YX^%DTC S NOW=Y
 S ^ACHSINST(ACHSVERS,"ENTER^"_$ZN,"FINISHED")=NOW
 Q
 ;
 ;RESET 0 NODE AND RETURN NUMBER OF ENTRIES
CHECKSOK(X) ;
 ;
 ;{ABK,7/16/10}I '$D(^ACHSDFC(0)) S ^ACHSDFC(0)="CHS DEFERRED SERVICES CATEGORY^9002066.5^0^0"
 I '$D(^ACHSDFC(0)) S ^ACHSDFC(0)="CHS UNMET NEEDS CATEGORY^9002066.5^0^0"
 E  S $P(^ACHSDFC(0),U,2)=9002066.5
 ;
 ;LETS FIX THE SUBFILE NUMBERS
 S CAT=0
 F  S CAT=$O(^ACHSDFC(CAT)) Q:+CAT=0  D
 .S $P(^ACHSDFC(CAT,1,0),U,2)=9002066.51
 ;
 S XBCFIXFL=9002066.5
 D XBCFIXFL^XBCFIX
 Q $G(XBCFIXC)
 ;
ERROR S ^ACHSINST(ACHSVERS,"ERROR",$ZN,"ERROR TRAP CALLED")=""
 G ^%ET
 Q
TAG ;
 ;;^TMP($J,"DFC",1,0)
 ;;A-PREVENTIVE SERVICES
 ;;^TMP($J,"DFC",1,1,0)
 ;;^9002066.51^13^13
 ;;^TMP($J,"DFC",1,1,1,0)
 ;;AUDOLOGIST EVALUATIONS
 ;;^TMP($J,"DFC",1,1,2,0)
 ;;HEARING AIDS (V53.2)
 ;;^TMP($J,"DFC",1,1,3,0)
 ;;ALLERGY TESTING, INJECTIONS, ETC.
 ;;^TMP($J,"DFC",1,1,4,0)
 ;;ANTENATAL SCREENING (V28.1)
 ;;^TMP($J,"DFC",1,1,5,0)
 ;;VASECTOMIES
 ;;^TMP($J,"DFC",1,1,6,0)
 ;;TUBAL LIGATIONS
 ;;^TMP($J,"DFC",1,1,7,0)
 ;;MAMMOGRAMS
 ;;^TMP($J,"DFC",1,1,8,0)
 ;;PODIATRY CARE FOR DIABETICS
 ;;^TMP($J,"DFC",1,1,9,0)
 ;;PAP SMEAR (ROUTINE)
 ;;^TMP($J,"DFC",1,1,10,0)
 ;;PHYSICAL THERAPY
 ;;^TMP($J,"DFC",1,1,11,0)
 ;;REFRACTIONS, GLASSES, CONTACT LENSES
 ;;^TMP($J,"DFC",1,1,12,0)
 ;;SEXUALLY TRANSMITTED DISEASE SERVICES
 ;;^TMP($J,"DFC",1,1,13,0)
 ;;OTHER
 ;;^TMP($J,"DFC",2,0)
 ;;B-ACUTE/CHRONIC PRI/SEC CARE
 ;;^TMP($J,"DFC",2,1,0)
 ;;^9002066.51^51^51
 ;;^TMP($J,"DFC",2,1,1,0)
 ;;CARDIAC CATH
 ;;^TMP($J,"DFC",2,1,2,0)
 ;;ARTERIOGRAM
 ;;^TMP($J,"DFC",2,1,3,0)
 ;;ANGIOGRAM
 ;;^TMP($J,"DFC",2,1,4,0)
 ;;OTHER CARDIAC PROCEDURES
 ;;^TMP($J,"DFC",2,1,5,0)
 ;;STRESS TESTS
 ;;^TMP($J,"DFC",2,1,6,0)
 ;;ORTHODONTICS (BRACES)
 ;;^TMP($J,"DFC",2,1,7,0)
 ;;PROSTHODONTICS (CROWN, BRIDGE)
 ;;^TMP($J,"DFC",2,1,8,0)
 ;;ENDODONTICS (ROOT CANAL)
 ;;^TMP($J,"DFC",2,1,9,0)
 ;;PERIODONTICS (GUM SURGERY)
 ;;^TMP($J,"DFC",2,1,10,0)
 ;;ORAL SURGERY
 ;;^TMP($J,"DFC",2,1,11,0)
 ;;OTHER DENTAL
 ;;^TMP($J,"DFC",2,1,12,0)
 ;;NON-ACUTE OTITIS MEDIA
 ;;^TMP($J,"DFC",2,1,13,0)
 ;;TYMPANOPLASTIES
 ;;^TMP($J,"DFC",2,1,14,0)
 ;;T & A'S
 ;;^TMP($J,"DFC",2,1,15,0)
 ;;SEPTO-RHINOPLASTIES
 ;;^TMP($J,"DFC",2,1,16,0)
 ;;P E TUBES
 ;;^TMP($J,"DFC",2,1,17,0)
 ;;OTHER ENT
 ;;^TMP($J,"DFC",2,1,18,0)
 ;;HYSTERECTOMY
 ;;^TMP($J,"DFC",2,1,19,0)
 ;;OTHER GYN ELECTIVE PROCEDURES
 ;;^TMP($J,"DFC",2,1,20,0)
 ;;DERMATOLOGY
 ;;^TMP($J,"DFC",2,1,21,0)
 ;;EEG/EMG
 ;;^TMP($J,"DFC",2,1,22,0)
 ;;INTERNAL MEDICINE
 ;;^TMP($J,"DFC",2,1,23,0)
 ;;NEPHROLOGY/IVP'S
 ;;^TMP($J,"DFC",2,1,24,0)
 ;;HEMATOLOGY
 ;;^TMP($J,"DFC",2,1,25,0)
 ;;ONCOLOGY
 ;;^TMP($J,"DFC",2,1,26,0)
 ;;GI/GASTROSCOPY
 ;;^TMP($J,"DFC",2,1,27,0)
 ;;PULMONARY
 ;;^TMP($J,"DFC",2,1,28,0)
 ;;CAT SCANS/NUCLEAR MED/MRI
 ;;^TMP($J,"DFC",2,1,29,0)
 ;;ENDROCRINOLOGY
 ;;^TMP($J,"DFC",2,1,30,0)
 ;;RHEUMATOLOGY
 ;;^TMP($J,"DFC",2,1,31,0)
 ;;PODIATRY
 ;;^TMP($J,"DFC",2,1,32,0)
 ;;GENETIC COUNSELLING
 ;;^TMP($J,"DFC",2,1,33,0)
 ;;OTHER REFERRALS/PROCEDURES
 ;;^TMP($J,"DFC",2,1,34,0)
 ;;CATARACT SURGERY
 ;;^TMP($J,"DFC",2,1,35,0)
 ;;DIABETIC RETINOPATHY/LASER
 ;;^TMP($J,"DFC",2,1,36,0)
 ;;OTHER OPTHALMOLOGIC
 ;;^TMP($J,"DFC",2,1,37,0)
 ;;ARTHROSCOPY
 ;;^TMP($J,"DFC",2,1,38,0)
 ;;TENDON REPAIR/CARPAL TUNNEL
 ;;^TMP($J,"DFC",2,1,39,0)
 ;;OTHER ORTHOPEDIC
 ;;^TMP($J,"DFC",2,1,40,0)
 ;;PROSTHETIC DEVICES V52 (ART. LIMBS, BRACES, ETC)
 ;;^TMP($J,"DFC",2,1,41,0)
 ;;OTHER DEVICES (SHOE INSERTS, SHOES, STOCKINGS)
 ;;^TMP($J,"DFC",2,1,42,0)
 ;;WHEELCHAIRS
 ;;^TMP($J,"DFC",2,1,43,0)
 ;;OTHER PROSTHETICS/ORTHOTICS
 ;;^TMP($J,"DFC",2,1,44,0)
 ;;PSYCHIATRIC EVALUATIONS
 ;;^TMP($J,"DFC",2,1,45,0)
 ;;HEMORRHOIDECTOMY
 ;;^TMP($J,"DFC",2,1,46,0)
 ;;CHOLECYSTECTOMY
 ;;^TMP($J,"DFC",2,1,47,0)
 ;;CIRCUMCISIONS
 ;;^TMP($J,"DFC",2,1,48,0)
 ;;COLONSCOPY
 ;;^TMP($J,"DFC",2,1,49,0)
 ;;HERNIA REPAIR
 ;;^TMP($J,"DFC",2,1,50,0)
 ;;UROLOGY/CYSTOSCOPY
 ;;^TMP($J,"DFC",2,1,51,0)
 ;;OTHER SURGICAL REFERRALS/PROCEDURES
 ;;^TMP($J,"DFC",3,0)
 ;;C-ACUTE/CHRONIC TERTIARY CARE
 ;;^TMP($J,"DFC",3,1,0)
 ;;^9002066.51^8^8
 ;;^TMP($J,"DFC",3,1,1,0)
 ;;CORONARY BYPASS & VASCULAR SURGERY
 ;;^TMP($J,"DFC",3,1,2,0)
 ;;TRANSPLANTS V42
 ;;^TMP($J,"DFC",3,1,3,0)
 ;;RESTORATIVE ORTHO (eg. HIP,KNEE REPLACEMENT)
 ;;^TMP($J,"DFC",3,1,4,0)
 ;;RECONSTRUCTIVE SURGERY (CLEFT PALATE, SKIN GRAFTS)
 ;;^TMP($J,"DFC",3,1,5,0)
 ;;PACEMAKER IMPLANTS
 ;;^TMP($J,"DFC",3,1,6,0)
 ;;KIDNEY STONES (LITHOTRIPSY, ETC)
 ;;^TMP($J,"DFC",3,1,7,0)
 ;;GALL STONES (LITHOTRIPSY, ETC)
 ;;^TMP($J,"DFC",3,1,8,0)
 ;;OTHER ACUTE/CHRONIC TERTIARY CARE
 ;;
