ADEGRL32 ; IHS/HQT/MJL - DENTAL ENTRY PART 32 ;  [ 03/24/1999   9:04 AM ]
 ;;6.0;ADE;;APRIL 1999
VERIFY ;EP
 K DIC S DIC="^AUTTADA(",DIC(0)="EZQ"
 S DIC("S")="I '+$P(^AUTTADA(Y,0),U,8)"
 D ^DIC
 K DIC
 I Y=-1 K Y S ADEY=0 Q
 S ADECOD=Y(0,0),ADEDES(ADECOD)=$P(Y(0),U,6)
 I ($D(ADEV("9130")))!($D(ADEV("9140"))) W *7,!,"Delete BROKEN or CANCELLED APPOINTMENT CODES before entering more codes." D CON^ADEGRL3 K Y S ADEY=0 Q
 ;I ADECOD="0000" K ADEV("0190"),ADEDES("0190"),Y S ADEV("0000")="1^" S ADEY=0 Q
 I ADECOD="0000"!(ADECOD="0190") D  Q
 . N ADEJ
 . S ADEJ=$$FYVIS^ADEGRL4(ADEPAT,ADEVDATE)
 . I 'ADEJ,ADECOD="0000" K ADEV("0190"),ADEDES("0190"),Y S ADEV("0000")="1^",ADEY=0 Q
 . I 'ADEJ,ADECOD="0190" K ADEV("0000"),ADEDES("0000"),Y S ADEV("0190")="1^",ADEY=0 Q
 . S ADEV($P(ADEJ,U,2))="1^",ADEDES($P(ADEJ,U,2))=$P(ADEJ,U,3)
 . S ADEY=0 Q
 ;I ADECOD="0190" K ADEV("0000"),ADEDES("0000"),Y S ADEV("0190")="1^" S ADEY=0 Q
 I ADECOD="0190" D  Q
 . I '$$FYVIS^ADEGRL4(ADEPAT,ADEVDATE) K ADEV("0000"),ADEDES("0000"),Y S ADEV("0190")="1^"
 . S ADEY=0 Q
 I (ADECOD="9140")!(ADECOD="9130") K ADEV,ADEDES,Y S ADEV(ADECOD)="1^",ADEDES(ADECOD)=$S(ADECOD="9140":"CANCELLED",1:"BROKEN")_" APPT" S ADEY=0 Q  ;IHS/HMW **2**
 Q
