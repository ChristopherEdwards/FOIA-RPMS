BGP1DP1E ; IHS/CMI/LAB - print ind 1 21 Mar 2010 12:55 PM 01 Jul 2010 11:40 AM ;
 ;;11.1;IHS CLINICAL REPORTING SYSTEM;;JUN 27, 2011;Build 33
 ;
SETDEV ;EP
 I $P($G(^BGPINDBC(BGPPC,22)),U),'$G(BGPNOSUM) D
 .S ^TMP($J,"SUMMARY DEVEL",$P(^BGPSCAT($P(^BGPINDBC(BGPPC,22),U,5),0),U,2),$P(^BGPINDBC(BGPPC,22),U,6),BGPPC)=BGPCYP_U_BGPPRP_U_BGPBLP
 .I $G(BGPAREAA) D  ;SDPX
 ..S X=0 F  S X=$O(BGPSDPD(X)) Q:X'=+X  D  ;SDPX
 ...S A=$P(^BGPSCAT($P(^BGPINDBC(BGPPC,22),U,5),0),U,2)
 ...S B=$P(^BGPINDBC(BGPPC,22),U,6)
 ...S ^TMP($J,"SUMMARY DETAIL PAGE DEVEL",$P(^BGPSCAT($P(^BGPINDBC(BGPPC,22),U,5),0),U,2),$P(^BGPINDBC(BGPPC,22),U,6),BGPPC,X)=$P($G(BGPSDPD(X,1)),U,3)_U_$P($G(BGPSDPD(X,2)),U,3)_U_$P($G(BGPSDPD(X,3)),U,3)_U_$J(BGPCYP,5,1)
 I $P($G(^BGPINDBC(BGPPC,22)),U),'$G(BGPNOSUM) D
 .S ^TMP($J,"SUMMARYDEL DEVEL",$P(^BGPSCAT($P(^BGPINDBC(BGPPC,22),U,5),0),U,2),$P(^BGPINDBC(BGPPC,22),U,6),BGPPC)=$$SB^BGP1DP1C($J(BGPCYP,5,1))_U_$$SB^BGP1DP1C($J(BGPPRP,5,1))_U_$$SB^BGP1DP1C($J(BGPBLP,5,1))
 .I $G(BGPAREAA) D  ;SDPX
 ..S X=0 F  S X=$O(BGPSDPD(X)) Q:X'=+X  D  ;SDPX
 ...S A=$P(^BGPSCAT($P(^BGPINDBC(BGPPC,22),U,5),0),U,2)
 ...S B=$P(^BGPINDBC(BGPPC,22),U,6)
 ...S ^TMP($J,"SUMMARYDEL DETAIL PAGE DEVEL",A,B,BGPPC,X)=$$SB^BGP1DP1C($J($P($G(BGPSDPD(X,1)),U,3),5,1))_U_$$SB^BGP1DP1C($J($P($G(BGPSDPD(X,2)),U,3),5,1))_U_$$SB^BGP1DP1C($J($P($G(BGPSDPD(X,3)),U,3),5,1))_U_$$SB^BGP1DP1C($J(BGPCYP,5,1))
 Q
CHECK(I) ;EP
 I BGPRTYPE=1,$P(^BGPINDBC(I,0),U,5)'=1 Q ""
 I BGPRTYPE=1,$P($G(^BGPINDBC(I,21)),U,6) Q ""
 I BGPRTYPE=7,$P($G(^BGPINDBC(I,12)),U,12)'=1 Q ""
 I BGPRTYPE=4,$P($G(^BGPINDBC(I,21)),U,2)=1 Q ""
 I BGPRTYPE=9,$P($G(^BGPINDBC(I,21)),U,6)'=1 Q ""
 I BGPINDB="D",$P(^BGPINDBC(I,0),U,12)'=1 Q ""
 I BGPINDB="C",$P(^BGPINDBC(I,0),U,13)'=1 Q ""
 I BGPINDB="W",$P($G(^BGPINDBC(I,12)),U,2)'=1 Q ""
 I BGPINDB="E",$P($G(^BGPINDBC(I,12)),U,3)'=1 Q ""
 I BGPINDB="I",$P($G(^BGPINDBC(I,11)),U,1)'=1 Q ""
 I BGPINDB="P",$P($G(^BGPINDBC(I,11)),U,2)'=1 Q ""
 Q 1
