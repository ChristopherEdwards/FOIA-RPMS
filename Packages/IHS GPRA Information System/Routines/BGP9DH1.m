BGP9DH1 ; IHS/CMI/LAB - cover page for gpra 28 Apr 2008 11:30 AM 02 Jul 2008 8:28 AM ; 
 ;;9.0;IHS CLINICAL REPORTING;**1**;JUL 01, 2009
 ;
 ;
ONMHDR ;EP
 W !
 I BGPCHSO G ONMHDRC
 S BGPTEXT="ONH1" F BGPJ1=1:1 S BGPX=$T(@BGPTEXT+BGPJ1) Q:$P(BGPX,";;",2)="QUIT"  D
 .S BGPT=$P(BGPX,";;",2)
 .I $Y>(BGPIOSL-2) D HDR^BGP9DH Q:BGPQHDR
 .W !,BGPT
 Q:BGPQHDR
 I BGPRTC="U" D  Q:BGPQHDR
 .I $Y>(BGPIOSL-2) D HDR^BGP9DH Q:BGPQHDR
 .W !,"3. User defines population: a) Indian/Alaska Natives Only - based on"
 .W !,"Classification of 01; b) Non AI/AN (not 01); or c) Both."
 I BGPRTC="H" D  Q:BGPQHDR
 .I $Y>(BGPIOSL-2) D  Q:BGPQHDR
 .W !,"3. Indian/Alaska Natives Only - based on Classification of 01."
 Q:BGPQHDR
 S BGPTEXT="ONH2" F BGPJ1=1:1 S BGPX=$T(@BGPTEXT+BGPJ1) Q:$P(BGPX,";;",2)="QUIT"  D
 .S BGPT=$P(BGPX,";;",2)
 .I $Y>(BGPIOSL-2) D HDR^BGP9DH Q:BGPQHDR
 .W !,BGPT
 W !
 Q
ONMHDRC ;
 S BGPTEXT="ONH1" F BGPJ1=1:1 S BGPX=$T(@BGPTEXT+BGPJ1) Q:$P(BGPX,";;",2)="QUIT"  D
 .S BGPT=$P(BGPX,";;",2)
 .I $Y>(BGPIOSL-2) D HDR^BGP9DH Q:BGPQHDR
 .W !,BGPT
 Q:BGPQHDR
 I BGPRTC="U" D  Q:BGPQHDR
 .I $Y>(BGPIOSL-2) D HDR^BGP9DH Q:BGPQHDR
 .W !,"3. User defines population: a) Indian/Alaska Natives Only - based on"
 .W !,"Classification of 01; b) Non AI/AN (not 01); or c) Both."
 I BGPRTC="H" D  Q:BGPQHDR
 .I $Y>(BGPIOSL-2) D  Q:BGPQHDR
 .W !,"3. Indian/Alaska Natives Only - based on Classification of 01."
 Q:BGPQHDR
 S BGPTEXT="ONH2C" F BGPJ1=1:1 S BGPX=$T(@BGPTEXT+BGPJ1) Q:$P(BGPX,";;",2)="QUIT"  D
 .S BGPT=$P(BGPX,";;",2)
 .I $Y>(BGPIOSL-2) D HDR^BGP9DH Q:BGPQHDR
 .W !,BGPT
 W !
 Q
PEHDR ;EP
 W !
 ;Q:$G(BGPSEAT)
 S BGPNODEP=$S($G(BGPSEAT):75,1:34)
 S BGPX=$O(^BGPCTRL("B",2009,0))
 S BGPY=0 F  S BGPY=$O(^BGPCTRL(BGPX,BGPNODEP,BGPY)) Q:BGPY'=+BGPY!(BGPQHDR)  D
 .I $Y>(BGPIOSL-2) D HDR^BGP9DH Q:BGPQHDR
 .W !,^BGPCTRL(BGPX,BGPNODEP,BGPY,0)
 .Q
 W !
 Q
AHDR ;EP
 ;
 I 'BGPHPG G AHDR1
 I $E(IOST)="C",IO=IO(0) W ! S DIR(0)="EO" D ^DIR K DIR I Y=0!(Y="^")!($D(DTOUT)) S BGPQHDR=1 Q
AHDR1 ;
 S BGPHPG=BGPHPG+1 W:$D(IOF) @IOF
 W !,$$CTR^BGP9DH("Cover Page "_BGPHPG,80)
 I BGPRTYPE=1,$G(BGPNGR09) W !!,$$CTR^BGP9DH("*** IHS 2010 National GPRA & PART Report, Run Using 2009 Logic ***") G N
 I BGPRTYPE=1,'$G(BGP9GPU),'$G(BGPSUMON) W !!,$$CTR^BGP9DH("*** IHS 2009 National GPRA & PART Report ***",80)
 I BGPRTYPE=1,'$G(BGP9GPU),$G(BGPSUMON) W !!,$$CTR^BGP9DH("*** IHS 2009 National GPRA & PART Report Clinical Performance Summaries ***",80)
 I BGPRTYPE=6 W !!,$$CTR^BGP9DH("*** IHS 2009 Patient Education Report with Community Specified ***",80)
 I BGPRTYPE=1,$G(BGP9GPU) W !!,$$CTR^BGP9DH("*** IHS 2009 GPRA & PART Performance Report ***",80)
 I BGPRTYPE=7 W !!,$$CTR^BGP9DH("*** IHS 2009 Other National Measures Report ***",80)
N W !,$$CTR^BGP9DH("AREA AGGREGATE",80)
 W !,$$CTR^BGP9DH($$RPTVER^BGP9BAN,80),!
 S X="Date Report Run:  "_$$FMTE^XLFDT(DT) W $$CTR^BGP9DH(X,80),!
 S X="Site where Run:  "_$$VAL^XBDIQ1(9999999.06,DUZ(2),.04) W $$CTR^BGP9DH(X,80),!
 W $$CTR^BGP9DH("Report Generated by: "_$$USR^BGP9DH,80),!
 S X="Report Period:  "_$$FMTE^XLFDT(BGPBD)_" to "_$$FMTE^XLFDT(BGPED) W $$CTR^BGP9DH(X,80),!
 S X="Previous Year Period:  "_$$FMTE^XLFDT(BGPPBD)_" to "_$$FMTE^XLFDT(BGPPED) W $$CTR^BGP9DH(X,80),!
 S X="Baseline Period:  "_$$FMTE^XLFDT(BGPBBD)_" to "_$$FMTE^XLFDT(BGPBED) W $$CTR^BGP9DH(X,80),!
 Q
COMHDR ;EP
 W !
 Q:$G(BGPSEAT)
 S BGPNODEP=$S($G(BGPCHSO):24,1:17)
 S BGPX=$O(^BGPCTRL("B",2009,0))
 S BGPY=0 F  S BGPY=$O(^BGPCTRL(BGPX,BGPNODEP,BGPY)) Q:BGPY'=+BGPY!(BGPQHDR)  D
 .I $Y>(BGPIOSL-2) D HDR^BGP9DH Q:BGPQHDR
 .W !,^BGPCTRL(BGPX,BGPNODEP,BGPY,0)
 .Q
 I $G(BGP9GPU) W !!,"See last pages of this report for Performance Summaries."
 W !
 Q
GPRAHDRS ;EP
 W !
 S BGPNODEP=$S($G(BGPCHSO):77,1:76)
 S BGPX=$O(^BGPCTRL("B",2009,0))
 S BGPY=0 F  S BGPY=$O(^BGPCTRL(BGPX,BGPNODEP,BGPY)) Q:BGPY'=+BGPY!(BGPQHDR)  D
 .I $Y>(BGPIOSL-2) D HDR^BGP9DH Q:BGPQHDR
 .W !,^BGPCTRL(BGPX,BGPNODEP,BGPY,0)
 .Q
 W !
 Q
PPHDR ;EP
 W !
 S BGPX=$O(^BGPCTRL("B",2009,0))
 S BGPY=0 F  S BGPY=$O(^BGPCTRL(BGPX,18,BGPY)) Q:BGPY'=+BGPY!(BGPQHDR)  D
 .I $Y>(BGPIOSL-2) D HDR^BGP9DH Q:BGPQHDR
 .W !,^BGPCTRL(BGPX,18,BGPY,0)
 .Q
 W !
 Q
ALLHDR ;EP
 W !
 Q:$G(BGPSEAT)
 S BGPNODEP=$S(BGPCHSO:25,1:19)
 S BGPX=$O(^BGPCTRL("B",2009,0))
 S BGPY=0 F  S BGPY=$O(^BGPCTRL(BGPX,BGPNODEP,BGPY)) Q:BGPY'=+BGPY!(BGPQHDR)  D
 .I $Y>(BGPIOSL-2) D HDR^BGP9DH Q:BGPQHDR
 .W !,^BGPCTRL(BGPX,BGPNODEP,BGPY,0)
 .Q
 W !
 Q
ONH1 ;;
 ;;Denominator Definitions used in this Report:
 ;;
 ;;ACTIVE CLINICAL POPULATION:
 ;;1. Must reside in a community specified in the community taxonomy used for
 ;;this report.
 ;;2. Must be alive on the last day of the Report period.
 ;;QUIT
 ;
ONH2 ;;
 ;;4. Must have 2 visits to medical clinics in the 3 years prior to the end
 ;;of the Report period. At least one visit must include: 01 General,
 ;;06 Diabetic, 10 GYN, 12 Immunization, 13 Internal Med, 20 Pediatrics, 24
 ;;Well Child, 28 Family Practice, 57 EPSDT, 70 Women's Health, 80 Urgent, 89
 ;;Evening.  See User Manual for complete description of medical clinics.
 ;;
 ;;USER POPULATION:
 ;;1. Definitions 1-3 above.
 ;;2. Must have been seen at least once in the 3 years prior to the end of
 ;;the Report period, regardless of the clinic type.
 ;;
 ;;See last pages of this report for Performance Summary.
 ;;QUIT
 ;;
ONH2C ;;
 ;;4. Must have 2 CHS visits in the 3 years prior to the end of the Report period.
 ;;
 ;;USER POPULATION:
 ;;1. Definitions 1-3 above.
 ;;2. Must have been seen at least once in the 3 years prior to the end of
 ;;the Report period, regardless of the clinic type.
 ;;
 ;;See last pages of this report for Performance Summary.
 ;;QUIT
