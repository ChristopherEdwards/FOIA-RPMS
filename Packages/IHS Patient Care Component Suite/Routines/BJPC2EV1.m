BJPC2EV1 ; IHS/CMI/LAB - Non DX/PX Taxonomy Fix ; 
 ;;2.0;IHS PCC SUITE;;MAY 14, 2009
 ;
START ;
 S ATXFLG=1
 D TOBACCO,TBHLTH,DMEDUC,DMADA,DMEDUC1,CESS
 Q
TOBACCO ;add tobacco health factor taxonomy
 S BJPCDA=0 S BJPCDA=$O(^ATXAX("B","DM AUDIT TOBACCO HLTH FACTORS",BJPCDA)) I BJPCDA Q
 W !,"Creating Tobacco Health factors taxonomy... "
 S X="DM AUDIT TOBACCO HLTH FACTORS",DIC="^ATXAX(",DIC(0)="L",DIADD=1,DLAYGO=9002226 D ^DIC K DIC,DA,DIADD,DLAYGO,I
 I Y=-1 W !!,"ERROR IN CREATING DM AUDIT TOBACCO HLTH FACTORS TAX" Q
 S BJPCTX=+Y,$P(^ATXAX(BJPCTX,0),U,2)="DM AUDIT TOBACCO HLTH FACTORS",$P(^(0),U,5)=DUZ,$P(^(0),U,8)=0,$P(^(0),U,9)=DT,$P(^(0),U,12)=78,$P(^(0),U,13)=0,$P(^(0),U,15)=9999999.64,^ATXAX(BJPCTX,21,0)="^9002226.02101A^0^0"
 S BJPCTEXT="TOB" F BJPCX=1:1:5 S X=$P($T(@BJPCTEXT+BJPCX),";;",2),DIC="^AUTTHF(",DIC(0)="M" D ^DIC K DIC,DA,DR,DIADD,DLAYGO,DQ,DI,D1,D0 I $P(Y,U)>0 D
 .S ^ATXAX(BJPCTX,21,BJPCX,0)=+Y,$P(^ATXAX(BJPCTX,21,0),U,3)=BJPCX,$P(^(0),U,4)=BJPCX,^ATXAX(BJPCTX,21,"AA",+Y,BJPCX)=""
 .Q
 S DA=BJPCTX,DIK="^ATXAX(" D IX1^DIK
 Q
DMEDUC ;
 S BJPCDA=0 S BJPCDA=$O(^ATXAX("B","DM AUDIT DIABETES EDUC TOPICS",BJPCDA)) I BJPCDA Q
 W !,"Creating Education topics taxonomy..."
 S X="DM AUDIT DIABETES EDUC TOPICS",DIC="^ATXAX(",DIC(0)="L",DIADD=1,DLAYGO=9002226 D ^DIC K DIC,DA,DIADD,DLAYGO,I
 I Y=-1 W !!,"ERROR IN CREATING DM AUDIT DIABETES EDUC TOPICS TAX" Q
 S BJPCTX=+Y,$P(^ATXAX(BJPCTX,0),U,2)="DM AUDIT DIABETES EDUC TOPICS",$P(^(0),U,5)=DUZ,$P(^(0),U,8)=0,$P(^(0),U,9)=DT,$P(^(0),U,12)=280,$P(^(0),U,13)=0,$P(^(0),U,15)=9999999.09,^ATXAX(BJPCTX,21,0)="^9002226.02101A^0^0"
 S BJPCTEXT="EDUC" F BJPCX=1:1:10 S X=$P($T(@BJPCTEXT+BJPCX),";;",2),DIC="^AUTTEDT(",DIC(0)="M" D ^DIC K DIC,DA,DR,DIADD,DLAYGO,DQ,DI,D1,D0 I $P(Y,U)>0 D
 .S ^ATXAX(BJPCTX,21,BJPCX,0)=+Y,$P(^ATXAX(BJPCTX,21,0),U,3)=BJPCX,$P(^(0),U,4)=BJPCX,^ATXAX(BJPCTX,21,"AA",+Y,BJPCX)=""
 .Q
 S DA=BJPCTX,DIK="^ATXAX(" D IX1^DIK
 Q
DMADA ;
 S BJPCDA=0 S BJPCDA=$O(^ATXAX("B","DM AUDIT DENTAL EXAM ADA CODES",BJPCDA)) I BJPCDA Q
 W !,"Creating DM ADA Codes Taxonomy..."
 S X="DM AUDIT DENTAL EXAM ADA CODES",DIC="^ATXAX(",DIC(0)="L",DIADD=1,DLAYGO=9002226 D ^DIC K DIC,DA,DIADD,DLAYGO,I
 I Y=-1 W !!,"ERROR IN CREATING DM AUDIT DENTAL EXAM ADA CODES TAX" Q
 S BJPCTX=+Y,$P(^ATXAX(BJPCTX,0),U,2)="DM AUDIT DENTAL EXAM ADA CODES",$P(^(0),U,5)=DUZ,$P(^(0),U,8)=0,$P(^(0),U,9)=DT,$P(^(0),U,12)=174,$P(^(0),U,13)=0,$P(^(0),U,15)=9999999.31,^ATXAX(BJPCTX,21,0)="^9002226.02101A^0^0"
 S BJPCTEXT="ADA" F BJPCX=1:1:2 S X=$P($T(@BJPCTEXT+BJPCX),";;",2),DIC="^AUTTADA(",DIC(0)="M" D ^DIC K DIC,DA,DR,DIADD,DLAYGO,DQ,DI,D1,D0 I $P(Y,U)>0 D
 .S ^ATXAX(BJPCTX,21,BJPCX,0)=+Y,$P(^ATXAX(BJPCTX,21,0),U,3)=BJPCX,$P(^(0),U,4)=BJPCX,^ATXAX(BJPCTX,21,"AA",+Y,BJPCX)=""
 .Q
 S DA=BJPCTX,DIK="^ATXAX(" D IX1^DIK
 Q
TBHLTH ;tb health factors taxonomy
 S BJPCDA=0 S BJPCDA=$O(^ATXAX("B","DM AUDIT TB HEALTH FACTORS",BJPCDA)) I BJPCDA Q
 W !,"Creating TB HF Taxonomy... "
 S X="DM AUDIT TB HEALTH FACTORS",DIC="^ATXAX(",DIC(0)="L",DIADD=1,DLAYGO=9002226 D ^DIC K DIC,DIADD,DLAYGO,DA,DR,DO,D0
 I Y=-1 W !!,"ERROR IN CREATING DM AUDIT TB HLTH FACTORS TAX" Q
 S BJPCTX=+Y,$P(^ATXAX(BJPCTX,0),U,2)="TB TX STATUS HLTH FACTORS",$P(^(0),U,5)=DUZ,$P(^(0),U,8)=0,$P(^(0),U,9)=DT,$P(^(0),U,12)=78,$P(^(0),U,13)=0,$P(^(0),U,15)=9999999.64
 S ^ATXAX(BJPCTX,21,0)="^9002226.02101A^0^0"
 S BJPCTEXT="TBHF" F BJPCX=1:1:4 S X=$P($T(@BJPCTEXT+BJPCX),";;",2),DIC="^AUTTHF(",DIC(0)="M" D ^DIC K DIC,DA,DR,DIADD,DLAYGO,DQ,DI,D1,D0 I $P(Y,U)>0 D
 .S ^ATXAX(BJPCTX,21,BJPCX,0)=+Y,$P(^ATXAX(BJPCTX,21,0),U,3)=BJPCX,$P(^(0),U,4)=BJPCX,^ATXAX(BJPCTX,21,"AA",+Y,BJPCX)=""
 .Q
 S DA=BJPCTX,DIK="^ATXAX(" D IX1^DIK
 Q
DMEDUC1 ;
 S BJPCDA=0 S BJPCDA=$O(^ATXAX("B","DM AUDIT DIET EDUC TOPICS",BJPCDA)) I 'BJPCDA D
 .W !,"Creating Education topics taxonomy..."
 .S X="DM AUDIT DIET EDUC TOPICS",DIC="^ATXAX(",DIC(0)="L",DIADD=1,DLAYGO=9002226 D ^DIC K DIC,DA,DIADD,DLAYGO,I
 .I Y=-1 W !!,"ERROR IN CREATING DM AUDIT DIET EDUC TOPICS TAX" Q
 .S BJPCTX=+Y,$P(^ATXAX(BJPCTX,0),U,2)="DM AUDIT DIET EDUC TOPICS",$P(^(0),U,5)=DUZ,$P(^(0),U,8)=0,$P(^(0),U,9)=DT,$P(^(0),U,12)=280,$P(^(0),U,13)=0,$P(^(0),U,15)=9999999.09,^ATXAX(BJPCTX,21,0)="^9002226.02101A^0^0"
 .S BJPCTEXT="DIET" F BJPCX=1:1:6 S X=$P($T(@BJPCTEXT+BJPCX),";;",2),DIC="^AUTTEDT(",DIC(0)="M" D ^DIC K DIC,DA,DR,DIADD,DLAYGO,DQ,DI,D1,D0 I $P(Y,U)>0 D
 ..S ^ATXAX(BJPCTX,21,BJPCX,0)=+Y,$P(^ATXAX(BJPCTX,21,0),U,3)=BJPCX,$P(^(0),U,4)=BJPCX,^ATXAX(BJPCTX,21,"AA",+Y,+Y)=""
 ..Q
 .S DA=BJPCTX,DIK="^ATXAX(" D IX1^DIK
 S BJPCDA=0 S BJPCDA=$O(^ATXAX("B","DM AUDIT EXERCISE EDUC TOPICS",BJPCDA)) I 'BJPCDA D
 .S X="DM AUDIT EXERCISE EDUC TOPICS",DIC="^ATXAX(",DIC(0)="L",DIADD=1,DLAYGO=9002226 D ^DIC K DIC,DA,DIADD,DLAYGO,I
 .I Y=-1 W !!,"ERROR IN CREATING DM AUDIT EXERCISE EDUC TOPICS TAX" Q
 .S BJPCTX=+Y,$P(^ATXAX(BJPCTX,0),U,2)="DM AUDIT EXERCISE EDUC TOPICS",$P(^(0),U,5)=DUZ,$P(^(0),U,8)=0,$P(^(0),U,9)=DT,$P(^(0),U,12)=280,$P(^(0),U,13)=0,$P(^(0),U,15)=9999999.09,^ATXAX(BJPCTX,21,0)="^9002226.02101A^0^0"
 .S BJPCTEXT="EXC" F BJPCX=1:1:3 S X=$P($T(@BJPCTEXT+BJPCX),";;",2),DIC="^AUTTEDT(",DIC(0)="M" D ^DIC K DIC,DA,DR,DIADD,DLAYGO,DQ,DI,D1,D0 I $P(Y,U)>0 D
 ..S ^ATXAX(BJPCTX,21,BJPCX,0)=+Y,$P(^ATXAX(BJPCTX,21,0),U,3)=BJPCX,$P(^(0),U,4)=BJPCX,^ATXAX(BJPCTX,21,"AA",+Y,+Y)=""
 ..Q
 .S DA=BJPCTX,DIK="^ATXAX(" D IX1^DIK
 S BJPCDA=0 S BJPCDA=$O(^ATXAX("B","DM AUDIT OTHER EDUC TOPICS",BJPCDA)) I 'BJPCDA D
 .S X="DM AUDIT OTHER EDUC TOPICS",DIC="^ATXAX(",DIC(0)="L",DIADD=1,DLAYGO=9002226 D ^DIC K DIC,DA,DIADD,DLAYGO,I
 .I Y=-1 W !!,"ERROR IN CREATING DM AUDIT OTHER EDUC TOPICS TAX" Q
 .S BJPCTX=+Y,$P(^ATXAX(BJPCTX,0),U,2)="DM AUDIT OTHER EDUC TOPICS",$P(^(0),U,5)=DUZ,$P(^(0),U,8)=0,$P(^(0),U,9)=DT,$P(^(0),U,12)=280,$P(^(0),U,13)=0,$P(^(0),U,15)=9999999.09,^ATXAX(BJPCTX,21,0)="^9002226.02101A^0^0"
 .S BJPCTEXT="OTHER" F BJPCX=1:1:79 S X=$P($T(@BJPCTEXT+BJPCX),";;",2),DIC="^AUTTEDT(",DIC(0)="M" D ^DIC K DIC,DA,DR,DIADD,DLAYGO,DQ,DI,D1,D0 I $P(Y,U)>0 D
 ..S ^ATXAX(BJPCTX,21,BJPCX,0)=+Y,$P(^ATXAX(BJPCTX,21,0),U,3)=BJPCX,$P(^(0),U,4)=BJPCX,^ATXAX(BJPCTX,21,"AA",+Y,+Y)=""
 ..Q
 .S DA=BJPCTX,DIK="^ATXAX(" D IX1^DIK
 W !,"Creating Education topics taxonomy..."
 S BJPCDA=0 S BJPCDA=$O(^ATXAX("B","DM AUDIT SMOKING CESS EDUC",BJPCDA)) I 'BJPCDA D
 .S X="DM AUDIT SMOKING CESS EDUC",DIC="^ATXAX(",DIC(0)="L",DIADD=1,DLAYGO=9002226 D ^DIC K DIC,DA,DIADD,DLAYGO,I
 .I Y=-1 W !!,"ERROR IN CREATING DM AUDIT SMOKING CESS EDUC TAX" Q
 .S BJPCTX=+Y,$P(^ATXAX(BJPCTX,0),U,2)="DM AUDIT SMOKING CESS EDUC",$P(^(0),U,5)=DUZ,$P(^(0),U,8)=0,$P(^(0),U,9)=DT,$P(^(0),U,12)=280,$P(^(0),U,13)=0,$P(^(0),U,15)=9999999.09,^ATXAX(BJPCTX,21,0)="^9002226.02101A^0^0"
 .S ^ATXAX(BJPCTX,21,BJPCX,0)=+Y,$P(^ATXAX(BJPCTX,21,0),U,3)=BJPCX,$P(^(0),U,4)=BJPCX,^ATXAX(BJPCTX,21,"AA",+Y,+Y)=""
 .S DA=BJPCTX,DIK="^ATXAX(" D IX1^DIK
 Q
CESS ;
 S BJPCDA=$O(^ATXAX("B","DM AUDIT CESSATION HLTH FACTOR",0))
 Q:BJPCDA  ;taxonomy already exists
 W !,"Creating Tobacco Cessation Health factors taxonomy... "
 S X="DM AUDIT CESSATION HLTH FACTOR",DIC="^ATXAX(",DIC(0)="L",DIADD=1,DLAYGO=9002226 D ^DIC K DIC,DA,DIADD,DLAYGO,I
 I Y=-1 W !!,"ERROR IN CREATING DM AUDIT CESSATION HLTH FACTORS TAX" Q
 S BJPCTX=+Y,$P(^ATXAX(BJPCTX,0),U,2)="DM AUDIT CESSATION HLTH FACTOR",$P(^(0),U,5)=DUZ,$P(^(0),U,8)=0,$P(^(0),U,9)=DT,$P(^(0),U,12)=78,$P(^(0),U,13)=0,$P(^(0),U,15)=9999999.64,^ATXAX(BJPCTX,21,0)="^9002226.02101A^0^0"
 S BJPCTEXT="CESSHF" F BJPCX=1:1:2 S X=$P($T(@BJPCTEXT+BJPCX),";;",2),DIC="^AUTTHF(",DIC(0)="M" D ^DIC K DIC,DA,DR,DIADD,DLAYGO,DQ,DI,D1,D0 I $P(Y,U)>0 D
 .S ^ATXAX(BJPCTX,21,BJPCX,0)=+Y,$P(^ATXAX(BJPCTX,21,0),U,3)=BJPCX,$P(^(0),U,4)=BJPCX,^ATXAX(BJPCTX,21,"AA",+Y,+Y)=""
 .Q
 S DA=BJPCTX,DIK="^ATXAX(" D IX1^DIK
 Q
 ;
CESSHF ;;
 ;;CESSATION-SMOKELESS
 ;;CESSATION-SMOKER
 ;;
DIET ;
 ;;DIABETES NUTRITION
 ;;DM-DIET
 ;;DM-NUTRITION
 ;;DM DIET
 ;;DM-CHOLESTEROL NU EDUCATION
 ;;DM NUTRITION PROTEIN
 ;;
EXC ;;
 ;;DM-EXERCISE
 ;;DM EXERCISE
 ;;DIABETES EXERCISE
 ;;
OTHER ;
 ;;DM-DISEASE PROCESS
 ;;DM DISEASE PROCESS
 ;;DM-FOLLOW UP
 ;;DM FOLLOWUP
 ;;DM-FOOT CARE
 ;;DM FOOT CARE
 ;;DIABETES FOOT CARE
 ;;DM-GENERAL INFORMATION
 ;;DM-INFORMATION
 ;;DIABETES GENERAL INFORMATION
 ;;DM-LIFESTYLE ADAPTATIONS
 ;;DM LIFESTYLE ADAPTATIONS
 ;;DM-MEDICATIONS
 ;;DM MEDICATIONS
 ;;DIABETES MEDICATIONS
 ;;DM-KNOW YOUR NUMBER
 ;;DM-PSYCH ED
 ;;DM-COMPLICATIONS
 ;;DM UTI
 ;;DM SMOKING CESSATION
 ;;DM SELF MONITORING TEST TAPES
 ;;DM SELF MONITORING CHEM STRIPS
 ;;DM PREGNANCY COUNSELING
 ;;DM NEUROPATHY
 ;;DM NEPHROPATHY
 ;;DM-NEPHROPATHY
 ;;DM-NEUROPATHY
 ;;DM-ORAL AGENTS
 ;;DM-RETINOPATHY/EYE
 ;;DM-SELF-GLUCOSE
 ;;DM-SEXUAL/REPRODUCTIVE
 ;;DM-SICK DAY MANAGEMENT
 ;;DM-WEIGHT CONTROL
 ;;DM HYPERTENSION
 ;;DM GESTATIONAL
 ;;DM EMOTIONAL ASPECTS
 ;;DM COMPLICATIONS
 ;;DIABETIC RETINOPATHY TEACHING
 ;;DIABETES-SICK DAYS
 ;;DIABETES DENTAL HYGIENE
 ;;DM - GLUCOMETER USE
 ;;DM MODULE 1
 ;;DM MODULE 10
 ;;DM MODULE 11
 ;;DM MODULE 12
 ;;DM MODULE 13
 ;;DM MODULE 14
 ;;DM MODULE 15
 ;;DM MODULE 16
 ;;DM MODULE 17
 ;;DM MODULE 18
 ;;DM MODULE 2
 ;;DM MODULE 3
 ;;DM MODULE 4
 ;;DM MODULE 5
 ;;DM MODULE 6
 ;;DM MODULE 7
 ;;DM MODULE 8
 ;;DM MODULE 9
 ;;DM WELLNESS 1
 ;;DM WELLNESS 2
 ;;DM WELLNESS 3
 ;;DM WELLNESS 4
 ;;DM WELLNESS 5
 ;;DM WELLNESS 6
 ;;DM WELLNESS 7
 ;;DM WELLNESS 8
 ;;DM-HOME MANAGEMENT
 ;;DM-KIDNEY DISEASE
 ;;DM-PATIENT LITERATURE
 ;;DM-PREVENTION
 ;;DM-CARDIOVASCULAR PROBLEMS
 ;;DM-TREATMENT
 ;;DM-DENTAL
 ;;DM-HYPERGLYCEMIA
 ;;DM-HYPOGLYCEMIA
 ;;DM-INFECTION
 ;;DM-INFORMATIN
 ;;DM-INSULIN ADMINISTRATION
 ;;
TBHF ;
 ;;TB - TX UNTREATED
 ;;TB - TX INCOMPLETE
 ;;TB - TX COMPLETE
 ;;TB - TX UNKNOWN
TOB ;
 ;;NON-TOBACCO USER
 ;;CURRENT SMOKER
 ;;CURRENT SMOKELESS
 ;;PREVIOUS SMOKER
 ;;PREVIOUS SMOKELESS
EDUC ;
 ;;DM-COMPLICATIONS
 ;;DM-DIET
 ;;DM-DISEASE PROCESS
 ;;DM-EXERCISE
 ;;DM-FOLLOW UP
 ;;DM-FOOT CARE
 ;;DM-GENERAL INFORMATION
 ;;DM-LIFESTYLE ADAPTATIONS
 ;;DM-MEDICATIONS
 ;;DM-NUTRITION
ADA ;
 ;;0110
 ;;0120
 ;;0150
 ;;9321
 ;;9320
 ;;
 ;;
 ;;
