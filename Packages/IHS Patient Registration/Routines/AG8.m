AG8 ; IHS/ADSS/EFG - ENTRY UTILITY FOR NON-MANDATORY DATA ;  
 ;;7.1;PATIENT REGISTRATION;;AUG 25,2005
L1 D S1,REL^AG8A G DUOUT^AG7:$D(DUOUT)
L2 D S1,FNAME^AG8A G L1:$D(DUOUT),L6:X=""
L4 D S1,FCOB^AG8A G L2:$D(DUOUT)
L5 D S1,FSOB^AG8A G L4:$D(DUOUT)
 D S1,FEMP^AG8A
L6 D S1,MNAME^AG8A G L5:$D(DUOUT),L81:X=""
L7 D S1,MCOB^AG8A G L6:$D(DUOUT)
L8 D S1,MSOB^AG8A G L7:$D(DUOUT)
 D S1,MEMP^AG8A
L81 ;IF PATIENT IS UNDER 18, PARENT EMPLOYER ENTRY IS REQUIRED
 I $$AGE^AUPNPAT(DFN)<18,$P($G(^AUPNPAT(DFN,27)),U)="",$P($G(^AUPNPAT(DFN,27)),U,2)="" W !!,"PATIENT IS A MINOR AND MUST HAVE FATHER'S OR MOTHER'S EMPLOYER ENTERED" H 2 G L2
L9 D S1,ECNAME^AG8A G L8:$D(DUOUT),L16:X=""
L10 D S1,ECREL^AG8A G L9:$D(DUOUT)
L11 D S1,ECSTR^AG8A G L10:$D(DUOUT),L15:X=""
L12 D S1,ECCITY^AG8A G L11:$D(DUOUT)
L13 D S1,ECST^AG8A G L12:$D(DUOUT)
L14 D S1,ECZIP^AG8A G L13:$D(DUOUT)
L15 D S1,ECPH^AG8A G L14:$D(DUOUT)
L16 D S1,EMPLR^AGED2 G L15:$D(DUOUT)
L17 D S1,SPSEMP^AGED2 G L16:$D(DUOUT)
END1 I AGOPT(7)'="Y" G ADD^AGED9
N1 D S1,NKNAME^AG8B G L17:$D(DUOUT),END2:'$D(X),END2:X=""
N2 D S1,NKREL^AG8B G N1:$D(DUOUT)
N3 D S1,NKSTR^AG8B G N2:$D(DUOUT)
N4 D S1,NKCITY^AG8B G N3:$D(DUOUT)
N5 D S1,NKST^AG8B G N4:$D(DUOUT)
N6 D S1,NKZIP^AG8B G N5:$D(DUOUT)
N7 D S1,NKPH^AG8B G N6:$D(DUOUT)
END2 G ADD^AGED9
S1 K DFOUT,DTOUT,DUOUT,DLOUT,DQOUT Q
DUOUT G L15:AGOPT(7)'="Y",N7
