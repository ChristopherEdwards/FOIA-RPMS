AGED41 ; IHS/ASDS/EFG - EDIT - PAGE 4 (2 OF 2) (MEDICARE) ;  
 ;;7.1;PATIENT REGISTRATION;**1,2**;JAN 31, 2007
 ;
 D @($P("E1,E2,E3,E4,E5,E6,E7,E8,E9,E10,E11,E12,",",",AG("SEL"))) Q
E1 ;EP - MCR REL DATE
 S DIE="^AUPNPAT("
 S DA=DFN
 S DR=".04R"
 W !
 D ^DIE
 D UPDATE
 Q
E2 ;QBM/SLMB
 S DIE="^AUPNMCR("
 S DA=DFN
 S DR=.08
 W !
 D ^DIE
 D UPDATE
 Q
E3 ;EP - IMP MSG FORM MCR SIG OBTAINED
 S DIE="^AUPNMCR("
 S DA=DFN
 S DR=1201
 W !
 D ^DIE
 D UPDATE
 Q
E4 ;EP - ADVANCE BENEFICIARY NOTICE
 S DIE="^AUPNMCR("
 S DA=DFN
 S DR=1301
 W !
 D ^DIE
 D UPDATE
 Q
E5 ;EP - MEDICARE NAME
 S DIE="^AUPNMCR("
 S DA=DFN
 S DR="2101R"
 W !
 D ^DIE
 D UPDATE
 Q
E6 ;MCR NUMBER AND SUFFIX
 S DIE="^AUPNMCR("
 S DR=".03R;.04R"
 S DA=DFN
 W !,"The SUFFIX will be prompted for immediately after the number!",!
 D ^DIE
 I $P($G(^AUPNMCR(DFN,0)),U,3)="" D
 . S DA=DFN
 . S DR=".01///@"
 . S DIE="^AUPNMCR("
 . D ^DIE
 . W !!,"Medicare coverage is deleted." H 3
 D UPDATE
 Q
E7 ;PRIMARY CARE PROVIDER
 S DIE="^AUPNMCR("
 S DA=DFN
 S DR=.14
 W !
 D ^DIE
 D UPDATE
 Q
E8 ;MEDICARE DOB
 S DIE="^AUPNMCR("
 S DA=DFN
 S DR="2102R"
 W !
 D ^DIE
 D UPDATE
 Q
E9 ;CARD COPY ON FILE AND DATE OBTAINED
 S DIE="^AUPNMCR("
 S DA=DFN
 S DR=.15
 W !
 D ^DIE
 I X["Y" D
 .;S DR=.16
 .S DR=".16R",DIE("NO^")=""  ;IHS/SD/TPF AG*7.1*1 ITEM 4
 .W !
 .D ^DIE
 I X["N" D
 .S DR=".16////@"
 .W !
 .D ^DIE
 D UPDATE
 Q
E10 ;ELIGIBILITY DATE
 S DA(1)=DFN
 S DIE="^AUPNMCR("_DA(1)_",11,"
 S DA=AG(AG("INDEX"))
 S DR=".01R"
 W !
 D ^DIE
 D UPDATE
 Q
E11 ;COVERAGE TYPE
 N OLDVALUE,NOCHANGE
 S DA(1)=DFN
 S DIE="^AUPNMCR("_DA(1)_",11,"
 S DA=AG(AG("INDEX"))
 S NOCHANGE=0
 S OLDVALUE=$P($G(^AUPNMCR(DA(1),11,DA,0)),U,3)
 I OLDVALUE="A"!(OLDVALUE="B") D
 .S NOCHANGE=1
 S DR=.03
 W !
 D ^DIE
 I $P($G(^AUPNMCR(DA(1),11,DA,0)),U,3)="D",(NOCHANGE) S $P(^AUPNMCR(DA(1),11,DA,0),U,3)=OLDVALUE D  G E11
 .W !,"DO NOT CHANGE AN EXISTING PART A OR B COVERAGE TO PART D"
 .W !,"REVIEW THE PATCH 1 ADDENDUM TO SET UP PART D COVERAGE"
 .H 3
 D UPDATE
 Q
E12 ;ELIGIBILITY END DATE
 S DA(1)=DFN
 S DIE="^AUPNMCR("_DA(1)_",11,"
 S DA=AG(AG("INDEX"))
 S DR=.02
 W !
 D ^DIE
 D UPDATE
 Q
UPDATE ;
 S DIE="^AUPNMCR("
 S DA=DFN
 S DR=".07////"_DT
 W !
 D ^DIE
 Q
