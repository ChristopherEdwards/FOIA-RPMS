ANSEA1 ;IHS/OIRM/DSD/CSC - ENTER/EDIT ACUITY DATA; [ 02/25/98  10:32 AM ]
 ;;3.0;NURSING PATIENT ACUITY;;APR 01, 1996
 ;ENTER/EDIT CONTINUED
EN F  D EN1 Q:$D(DTOUT)!$D(DUOUT)
 D ^ANSEA2
EXIT K ANS
 Q
EN1 D ^ANSEAV1
 S DIR(0)="SO^1:Edit Care Levels;2:Edit Adjustment Factors;3:Edit Room/Bed/Diagnosis;4:Edit ALL"
 I ANSTOT<10 S Y=4
 E  D DIR^ANSDIC
 I $D(DTOUT)!$D(DUOUT)!(+$G(Y)<1) S DUOUT="" Q
 I Y=1 D CARE S Y=1
 I Y=2 D ADJUST S Y=2
 I Y=3 D ROOM S Y=3
 I Y=4 D ALL S Y=4
 Q
ALL D CARE
 Q:$D(DTOUT)!$D(DUOUT)
 D ADJUST
 Q:$D(DTOUT)!$D(DUOUT)
 D ROOM
 Q:$D(DTOUT)!$D(DUOUT)
 Q
CARE D ^ANSEAL
 Q
ADJUST D ^ANSEAF
 Q
ROOM S ANSDX=$G(^ANSR(ANSADM,"DX"))
 S X=$P(ANSDX,U,2)
 I X'=ANSUN S $P(ANSDX,U,2)=ANSUN F I=3,4 S $P(ANSDX,U,I)=""
 D ^ANSUEU
 I $P(ANSDX,U)]"",$P(^ANSR(ANSADM,"DX"),U)'=$P(ANSDX,U) D
 .S DIE="^ANSR(",DA=ANSADM,DR="2////"_X  ;;CSC 8-97
 .D DIE^ANSDIC
 Q
