AMQQAC1 ; IHS/CMI/THL - AMQQAC SUBROUTINE...GETS "ALL" CONDITION FOR QUERIES ;
 ;;2.0;IHS PCC SUITE;;MAY 14, 2009
 ;-----
ONE S AMQQILIN=$G(AMQQILIN)+1
 S AMQQPRST=""
 S ^UTILITY("AMQQ",$J,"WEIGHT",0,AMQQUATN)=""
 I AMQQFTYP="F" S AMQQQ=AMQQLINK_U_AMQQATNM_U_"F^^^^^'=^;;;ANY^^9^W ?6,"""_AMQQATNM_"""^1^1^'=;;",^UTILITY("AMQQ",$J,"LIST",AMQQILIN)="W ?6,"""_AMQQATNM_"""",^UTILITY("AMQQ",$J,"Q",AMQQUATN)=AMQQQ Q
 I AMQQFTYP="S" S AMQQQ=AMQQLINK_U_AMQQATNM_U_"S^^^^^'=^;;;ANY^^9^W ?6,"""_AMQQATNM_"""^1^1^'=;;",^UTILITY("AMQQ",$J,"LIST",AMQQILIN)="W ?6,"""_AMQQATNM_"""",^UTILITY("AMQQ",$J,"Q",AMQQUATN)=AMQQQ Q
 I AMQQFTYP="A" S AMQQQ=AMQQLINK_"^AGE^A^^38^^^^^^9^W ?6,""AGE""^1^1^-1;99999999999;ANY",^UTILITY("AMQQ",$J,"LIST",AMQQILIN)="W ?6,""AGE""",^UTILITY("AMQQ",$J,"Q",AMQQUATN)=AMQQQ Q
 I AMQQFTYP="D" S AMQQQ=AMQQLINK_U_AMQQATNM_"^D^^^^^^^^9^W ?6,"""_AMQQATNM_"""^1^1^-1;99999999999;ANY",^UTILITY("AMQQ",$J,"LIST",AMQQILIN)="W ?6,"""_AMQQATNM_"""",^UTILITY("AMQQ",$J,"Q",AMQQUATN)=AMQQQ Q
 I AMQQFTYP="L"!(AMQQFTYP="G") N % S %="W ?6,"""_AMQQATNM_"""",$P(AMQQQ,U,12)=%,$P(AMQQQ,U,15)=";"_AMQQURGN,^UTILITY("AMQQ",$J,"LIST",AMQQILIN)=% D  Q
 . I AMQQQ["ALL" S AMQQQ=$P(AMQQQ,"ALL")_"ANY"_$P(AMQQQ,"ALL",2)
 . S ^UTILITY("AMQQ",$J,"Q",AMQQUATN)=AMQQQ
 I AMQQFTYP="B" S AMQQQ=AMQQLINK_U_AMQQATNM_U_"B^^^^^^-2;9^^9^^^1^-2;9",%="W ?6,"""_AMQQATNM_"""",$P(AMQQQ,U,12)=%,^UTILITY("AMQQ",$J,"LIST",AMQQILIN)=%,^UTILITY("AMQQ",$J,"Q",AMQQUATN)=AMQQQ Q
 Q
 ;
