AZXRFAX1 ;ENTER OR EDIT SUPPORT FAX ERROR LOG ENTRY [ 02/24/94  3:20 PM ]
 ;2/24/94, ERIC,GENE, AND GARY, PAIHS IRM SUPER PROGRAMMING TEAM
 ;
 D ^XBKSET
 S FLAG=-1 
 
 W @IOF
 W !!!,"SUPPORT FAX ERROR LOG ENTRY OR EDIT"
 
 
RECORD S INUM=$P(^AZXRSFAX(0),U,3)
 S TCOUNT=$P(^AZXRSFAX(0),U,4) 
 W !,"SELECT RECORD NUMBER:  ",INUM+1,"// "
 R SNUM
 I SNUM="@" W "DELETING ENTRIES NOT ALLOWED - USE DELETE OPTION" G RECORD
 I (SNUM'="")&(SNUM'?1.3"?")&(SNUM'="^")&'((SNUM>0)&(SNUM<1000000))&(SNUM'?1.6N) W !!,"ILLEGAL RECORD NUMBER,",!!,"    ENTER A RECORD NUMBER BETWEEN [1.999999], OR",!,"      ENTER A ""?"" FOR HELP, OR",!,"      ENTER A ""^"" TO QUIT.",!,*7   G RECORD
 I SNUM="" S SNUM=INUM+1
 I SNUM="^" D KILL Q
 I SNUM>(INUM+1) W !!,"SKIPPING RECORD NUMBERS NOT ALLOWED",*7,!!,"ENTER EXISTING LOG NUMBER OR ACCEPT DEFAULT !" G RECORD
 I SNUM?1.3"?" W !!,"PLEASE ENTER YOUR RECORD NUMBER OR",!,"PRESS RETURN AND ACCEPT THE DEFAULT FOR A NEW ENTRY.",! G RECORD
 I (SNUM=(INUM+1)) S $P(^AZXSRFAX(0),U,3)=INUM+1,$P(^AZXSRFAX(0),U,4)=TCOUNT+1 S FLAG=FLAG+1 D DEFAULT 
DATE R !!,"ENTER DATE OF ERROR REPORT:TODAY//",DATE
 I DATE="" D ^%DT
 QUIT
 
 
 
DEFAULT S DIC(0)="AEMQZ" 
 S DDA=SNUM-1
 S DFAC=$P(^AZXRSFAX(DDA,0),U,2)
KILL ;K SNUM,INUM,FLAG,TCOUNT
 ;Q
