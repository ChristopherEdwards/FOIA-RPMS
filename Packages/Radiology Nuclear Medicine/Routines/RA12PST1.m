RA12PST1 ;HIRMFO/CRT - Post-init number one (patch seventeen) ;5/19/99
VERSION ;;5.0;Radiology/Nuclear Medicine;**17**;Mar 16, 1998
 ;
 Q:'$$PATCH^XPDUTL("HL*1.6*57")  ; Only run if HL*1.6*57 installed.
 ;
EN1 ; Add entries to the HL Logical Link (870) file.
 ;
 ; ***    Add entries to HL Logical Link (870) file     ***
 ;
MSRA I $D(^HLCS(870,"B","MED-RA")) D
 .N RAFDA
 .S RAIENS=$O(^HLCS(870,"B","MED-RA",0))
 .Q:+RAIENS'>0
 .S RAFDA(870,RAIENS_",",400.04)="@"
 .D MSG^RA12PST2("MED-RA",870)
 .D UPDATE^DIE("E","RAFDA")
 .Q
 ;
RAPS D MSG^RA12PST2("RA-PSCRIBE",870)
 I '$D(^HLCS(870,"B","RA-PSCRIBE")) S RAIENS="+1,"
 I $D(^HLCS(870,"B","RA-PSCRIBE")) D
 .S RAIENS=$O(^HLCS(870,"B","RA-PSCRIBE",0))
 .S RAIENS=RAIENS_","
 G:+RAIENS'>0 PSRA
 N RAFDA
 S RAFDA(870,RAIENS,.01)="RA-PSCRIBE"
 S RAFDA(870,RAIENS,2)=$$TCP^RA12PST2()
 S RAFDA(870,RAIENS,3)="PC"
 S RAFDA(870,RAIENS,200.05)=$$ACKTO^RA12PST2()
 S RAFDA(870,RAIENS,400.03)=$$CLIENT^RA12PST2()
 S RAFDA(870,RAIENS,400.04)=$$Y^RA12PST2()
 D UPDATE^DIE("E","RAFDA")
 D:'$D(^HLCS(870,"B","RA-PSCRIBE")) MSG^RA12PST2("RA-PSCRIBE",870,1)
 ;
PSRA D MSG^RA12PST2("PSCRIBE-RA",870)
 I '$D(^HLCS(870,"B","PSCRIBE-RA")) S RAIENS="+1,"
 I $D(^HLCS(870,"B","PSCRIBE-RA")) D
 . S RAIENS=$O(^HLCS(870,"B","PSCRIBE-RA",0))
 . S RAIENS=RAIENS_","
 G:+RAIENS'>0 TARA
 N RAFDA
 S RAFDA(870,RAIENS,.01)="PSCRIBE-RA"
 S RAFDA(870,RAIENS,2)=$$TCP^RA12PST2()
 S RAFDA(870,RAIENS,3)="SS"
 S RAFDA(870,RAIENS,400.03)=$$SLISTN^RA12PST2()
 S RAFDA(870,RAIENS,400.04)="@"
 D UPDATE^DIE("E","RAFDA")
 D:'$D(^HLCS(870,"B","PSCRIBE-RA")) MSG^RA12PST2("PSCRIBE-RA",870,1)
 ;
TARA D MSG^RA12PST2("TALK-RA",870)
 I '$D(^HLCS(870,"B","TALK-RA")) S RAIENS="+1,"
 I $D(^HLCS(870,"B","TALK-RA")) D
 . S RAIENS=$O(^HLCS(870,"B","TALK-RA",0))
 . S RAIENS=RAIENS_","
 G:+RAIENS'>0 RATA
 N RAFDA
 S RAFDA(870,RAIENS,.01)="TALK-RA"
 S RAFDA(870,RAIENS,2)=$$TCP^RA12PST2()
 S RAFDA(870,RAIENS,3)="SS"
 S RAFDA(870,RAIENS,400.03)=$$SLISTN^RA12PST2()
 S RAFDA(870,RAIENS,400.04)="@"
 D UPDATE^DIE("E","RAFDA")
 D:'$D(^HLCS(870,"B","TALK-RA")) MSG^RA12PST2("TALK-RA",870,1)
 ;
RATA D MSG^RA12PST2("RA-TALK",870)
 I '$D(^HLCS(870,"B","RA-TALK")) S RAIENS="+1,"
 I $D(^HLCS(870,"B","RA-TALK")) D
 . S RAIENS=$O(^HLCS(870,"B","RA-TALK",0))
 . S RAIENS=RAIENS_","
 G:+RAIENS'>0 END
 N RAFDA
 S RAFDA(870,RAIENS,.01)="RA-TALK"
 S RAFDA(870,RAIENS,2)=$$TCP^RA12PST2()
 S RAFDA(870,RAIENS,3)="PC"
 S RAFDA(870,RAIENS,200.05)=$$ACKTO^RA12PST2()
 S RAFDA(870,RAIENS,400.03)=$$CLIENT^RA12PST2()
 S RAFDA(870,RAIENS,400.04)=$$Y^RA12PST2()
 D UPDATE^DIE("E","RAFDA")
 D:'$D(^HLCS(870,"B","RA-TALK")) MSG^RA12PST2("RA-TALK",870,1)
 ;
END ; *** End adding entries to HL Logical Link (870) file ***
 D BMES^XPDUTL(" ") ; greater readability
 ;
 D EN1^RA12PST3
 Q
