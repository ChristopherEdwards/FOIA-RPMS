ASUAUIDX ;DSD/DFM - UTILITY ENTER INDEX NUMBER;  [ 04/15/98  2:52 PM ]
 ;;3.0;SAMS;**1**;AUG 20, 1993
RDINDEX ;
 I ASUK("WAREHOUSE") D
 .S ASUSW("OPTIONAL")="NA"
 E  D
 .S ASUSW("OPTIONAL")="NOA"
 S DIR("A")=ASUV("ITEM #")_". ENTER INDEX NUMBER "
 S DIR(0)=ASUSW("OPTIONAL")_"^19:999997:0^D ^ASUAUM11"
 S DIR("?")="Index number must pass modulus 11 test"
 D ^DIR K DIR,ASUSW("OPTIONAL")
 I $D(DTOUT)!($D(DUOUT))!($D(DIROUT)) K X,Y Q
 I X="" S DTOUT=1 K X,Y Q
 S ASUTRNS(ASUTRNS,"INDEX")=Y K Y1,X,Y
 Q
