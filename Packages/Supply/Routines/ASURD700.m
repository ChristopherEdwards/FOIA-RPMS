ASURD700 ; IHS/ITSC/LMH -RPT 8 IDX MAST REC CHGS/DELS ;  [ 08/02/2000  1:27 PM ]
 ;;4.2T2;Supply Accounting Mgmt. System;;JUN 30, 2000
 ;This routine formats and prints report 8, Index Change/Delete
 ;Transaction List.
CMPT ;EP;COMPUTE REPORT CONTENTS
 K ^XTMP("ASUR","R70") S ^XTMP("ASUR","R70",0)=ASUK("DT","FM")+10000_U_ASUK("DT","FM") N Z
 D:$G(ASUN("TYP"))']"" ^ASUURANG
 ;E  S ASUHDA=$G(ASUN("B#"))-1; working of $T from ^ASUURANG
 S ASUHDA=$G(ASUN("B#"))-1
 F Z="32" D
 .F  S ASUHDA=$O(^ASUH("T",Z,ASUHDA)) Q:ASUHDA>$G(ASUN("E#"))  Q:ASUHDA']""  D
 ..D READ^ASU0TRRD(.ASUHDA,"H") Q:$G(ASUT)']""  S ASUMS("E#","STA")=ASUT(ASUT,"PT","STA"),ASUMS("E#","IDX")=ASUT(ASUT,"PT","IDX") D ^ASUMSTRD S ASUV("SLC")=ASUMS("SLC") S:ASUV("SLC")']"" ASUV("SLC")="*"
 ..I $G(ASUT(ASUT,"PST"))]"" S ^XTMP("ASUR","R7I",ASUT(ASUT,"PT","STA"),ASUT(ASUT,"PT","SST"),ASUT(ASUT,"VOU"),ASUV("SLC"),ASUT(ASUT,"PT","IDX"),ASUHDA)=ASUHDA Q
 ..S ^XTMP("ASUR","R70",ASUT(ASUT,"PT","STA"),ASUT(ASUT,"PT","SST"),ASUT(ASUT,"VOU"),ASUV("SLC"),ASUT(ASUT,"PT","IDX"),ASUHDA)=ASUHDA Q
 Q
