ATXPOS2 ; TUCSON-OHPRD/LAB - IHS-TUCSON/GIS/THL ;  [ 10/12/94  1:37 PM ]
 ;;5.0;TAXONOMY SYSTEM;;OCT 12, 1994
OBESSUR ;EP -surveillance obesity
 W !!,"Checking OBESITY Surveillance Taxonomy..."
 S ATXFLG="",X="SURVEILLANCE OBESITY",DIC="^ATXAX(",DIC(0)="MO" D ^DIC K DIC,DA,DR,DIADD,DLAYGO,D0
 S ATXTAX=+Y I ATXTAX>0 S DA=ATXTAX,DIK="^ATXAX(" D ^DIK K DIK,DA,DR
 S:ATXTAX>0 DINUM=ATXTAX S ATXFLG="",X="SURVEILLANCE OBESITY",DIC="^ATXAX(",DIC(0)="L",DIADD=1,DLAYGO=9002226 D ^DIC K DIC,DA,DR,DIADD,DLAYGO,D0
 S ATXTAX=+Y
 S $P(^ATXAX(ATXTAX,0),U,2)="OBES SURV - USED BY HLTH SUMM",$P(^(0),U,4)="n",$P(^(0),U,5)=DUZ,$P(^(0),U,6)=2600101,$P(^(0),U,8)=1,$P(^(0),U,9)=DT,$P(^(0),U,12)=31,$P(^(0),U,13)=1,$P(^(0),U,14)="BA"
 S $P(^ATXAX(ATXTAX,0),U,15)=80,$P(^(0),U,16)=1
 S ^ATXAX(ATXTAX,11,0)="^^1^1^2940510^^^^",^ATXAX(ATXTAX,11,1,0)="ICD codes:  278.0"
 S ^ATXAX(ATXTAX,21,0)="^9002226.02102^1^1",^ATXAX(ATXTAX,21,1,0)="278.0^278.0"
 S DA=ATXTAX,DIK="^ATXAX(" D IX1^DIK
 S ATXX=ATXTAX D ZTM^ATXAX
 I $O(^ATXPAT(ATXTAX,11,0)) W !,"Pts already entered for this taxonomy.",! Q
 S ATXX=ATXTAX
 I '$D(^ATXPAT(ATXX,0)) S DIADD="",DIC="^ATXPAT(",DIC(0)="L",X="`"_ATXX,DIC("DR")=".02////"_DT_";.03////"_DUZ D ^DIC K DIADD,DIC,DR S ^ATXPAT(ATXX,11,0)="^9002227.01101PA^0^0"
 D TSKMN^ATXENP
 Q
TBSUR ;EP - surveillance tb
 W !!,"Checking TB Surveillance Taxonomy..."
 S ATXFLG="",X="SURVEILLANCE TUBERCULOSIS",DIC="^ATXAX(",DIC(0)="MO" D ^DIC K DIC,DA,DINUM,DR,DIADD,DLAYGO,D0,DD,DD
 S ATXTAX=+Y I ATXTAX>0 S DA=ATXTAX,DIK="^ATXAX(" D ^DIK K DIK,DA,DR ;delete current one if it exists
 S:ATXTAX>0 DINUM=ATXTAX S ATXFLG="",X="SURVEILLANCE TUBERCULOSIS",DIC="^ATXAX(",DIC(0)="L",DIADD=1,DLAYGO=9002226 D ^DIC K DIC,DA,DINUM,DR,DIADD,DLAYGO,D0,DD
 S ATXTAX=+Y
 S $P(^ATXAX(ATXTAX,0),U,2)="TB SURV - USED BY HLTH SUMM",$P(^(0),U,4)="n",$P(^(0),U,5)=DUZ,$P(^(0),U,6)=2600101,$P(^(0),U,8)=1,$P(^(0),U,9)=DT,$P(^(0),U,12)=31,$P(^(0),U,13)=1,$P(^(0),U,14)="BA"
 S $P(^ATXAX(ATXTAX,0),U,15)=80,$P(^(0),U,16)=1
 S ^ATXAX(ATXTAX,11,0)="^^1^1^2940510^^^^",^ATXAX(ATXTAX,11,1,0)="ICD codes:  010.0-018.96, late effects 137.0-137.4; Positive PPD, Tine or Monovac - 795.5"
 S ^ATXAX(ATXTAX,21,0)="^9002226.02102^3^3",^ATXAX(ATXTAX,21,1,0)="010.00^018.96",^ATXAX(ATXTAX,21,2,0)="137.0^137.4",^ATXAX(ATXTAX,21,3,0)="795.5^795.5"
 S DA=ATXTAX,DIK="^ATXAX(" D IX1^DIK
 S ATXX=ATXTAX D ZTM^ATXAX ;update all these codes in icd9 file
 I $O(^ATXPAT(ATXTAX,11,0)) W !,"Pts already entered for this taxonomy.",! Q
 S ATXX=ATXTAX
 I '$D(^ATXPAT(ATXX,0)) S DIADD="",DIC="^ATXPAT(",DIC(0)="L",X="`"_ATXX,DIC("DR")=".02////"_DT_";.03////"_DUZ D ^DIC K DIADD,DIC,DR S ^ATXPAT(ATXX,11,0)="^9002227.01101PA^0^0"
 D TSKMN^ATXENP ;enter patients into patient taxonomy
 Q
PNEUSUR ;EP -pneumococcal risk
 D PNEUSUR^ATXPOS3
 Q
