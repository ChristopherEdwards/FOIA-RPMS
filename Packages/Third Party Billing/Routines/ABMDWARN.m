ABMDWARN ; IHS/ASDST/DMJ - WARNING PROCESSOR ;
 ;;2.6;IHS 3P BILLING SYSTEM;;NOV 12, 2009
 ;
 S ABMW("L")="",$P(ABMW("L"),"-",80)=""
 W !,ABMW("L")
 S ABMW("I")=0
 S ABMW("H")="" F  S ABMW("H")=$O(ABMW(ABMW("H"))) Q:'ABMW("H")  D WRN
 I ABMW("I")>1 W *7,!,ABMW("L")
 G XIT
WRN S ABMW="" F ABMW("I")=1:1 S ABMW=$O(ABMW(ABMW("H"),ABMW)) Q:'ABMW  W !,"WARNING:",$E(ABMW+1000,2,4)," - ",$P(^ABMDERR(ABMW,0),U) W:$P(ABMW(ABMW("H"),ABMW),U)]"" " (",$P(ABMW(ABMW("H"),ABMW),U),")"
 Q
 ;
XIT K ABMW
 Q
 ;
CNT S ABMW="" F ABMW("I")=1:1 S ABMW=$O(ABMW(ABMW)) Q:'ABMW
 S ABM("ERR")=ABMW("I")-1
 G XIT
