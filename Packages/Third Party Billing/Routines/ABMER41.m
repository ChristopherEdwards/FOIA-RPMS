ABMER41 ; IHS/ASDST/DMJ - UB92 EMC RECORD 41 (Claim Data Condition-Value) ; 
 ;;2.6;IHS 3P BILLING SYSTEM;;NOV 12, 2009
 ;Original;DMJ;08/18/95 10:39 AM
 ;
START ;START HERE
 K ABMR(41),ABMREC(41)
 S ABM("9SP")="         "
 S ABME("RTYPE")=41
 D SET^ABMERUTL
 S ABME("S#")=1
 D LOOP
 D S90^ABMERUTL
 K ABM
 Q
 ;
LOOP ;LOOP HERE
 D ^ABMER41A
 F I=210:10:400 D
 .D @I
 .I $D(^ABMEXLM("AA",+$G(ABMP("INS")),+$G(ABMP("EXP")),41,I)) D @(^(I))
 .I '$G(ABMP("NOFMT")) S ABMREC(41,ABME("S#"))=$G(ABMREC(41,ABME("S#")))_ABMR(41,I)
 Q
 ;
210 ;Value Amount - 3 (SOURCE: FILE=9002274.4055, FIELD=.02)
 ; form locator #41a
 D GET55
 S ABMR(41,210)=$P(ABM(55,3),"^",2)
 I $TR($G(ABMR(41,200))," ")="" S ABMR(41,210)=ABM("9SP") Q
 S ABMR(41,210)=$$FMT^ABMERUTL(ABMR(41,210),"9RNJ2")
 Q
 ;
220 ;Value Code - 4 (SOURCE: FILE=9002274.4055, FIELD=.01)
 ; form locator #39b
 D GET55
 S ABMR(41,220)=$P(ABM(55,4),U)
 S ABMR(41,220)=$$FMT^ABMERUTL(ABMR(41,220),"2RN")
 Q
 ;
230 ;Value Amount - 4 (SOURCE: FILE=9002274.4055, FIELD=.02)
 ; form locator #39b
 D GET55
 S ABMR(41,230)=$P(ABM(55,4),"^",2)
 I $TR($G(ABMR(41,220))," ")="" S ABMR(41,230)=ABM("9SP") Q
 S ABMR(41,230)=$$FMT^ABMERUTL(ABMR(41,230),"9RNJ2")
 Q
 ;
240 ;Value Code - 5 (SOURCE: FILE=9002274.4055, FIELD=.01)
 ; form locator #40b
 D GET55
 S ABMR(41,240)=$P(ABM(55,5),U)
 S ABMR(41,240)=$$FMT^ABMERUTL(ABMR(41,240),"2NR")
 Q
 ;
250 ;Value Amount - 5 (SOURCE: FILE=9002274.4055, FIELD=.02)
 ; form locator #40b
 D GET55
 S ABMR(41,250)=$P(ABM(55,5),"^",2)
 I $TR($G(ABMR(41,240))," ")="" S ABMR(41,250)=ABM("9SP") Q
 S ABMR(41,250)=$$FMT^ABMERUTL(ABMR(41,250),"9RNJ2")
 Q
 ;
260 ;Value Code - 6 (SOURCE: FILE=9002274.4055, FIELD=.01)
 ; form locator #41b
 D GET55
 S ABMR(41,260)=$P(ABM(55,6),U)
 S ABMR(41,260)=$$FMT^ABMERUTL(ABMR(41,260),"2NR")
 Q
 ;
270 ;Value Amount - 6 (SOURCE FILE=9002274.4055, FIELD=.02)
 ; form locator #41b
 D GET55
 S ABMR(41,270)=$P(ABM(55,6),"^",2)
 I $TR($G(ABMR(41,260))," ")="" S ABMR(41,270)=ABM("9SP") Q
 S ABMR(41,270)=$$FMT^ABMERUTL(ABMR(41,270),"9RNJ2")
 Q
 ;
280 ;Value Code - 7 (SOURCE: FILE=9002274.4055, FIELD=.01)
 ; form locator #39c
 D GET55
 S ABMR(41,280)=$P(ABM(55,7),U)
 S ABMR(41,280)=$$FMT^ABMERUTL(ABMR(41,280),"2NR")
 Q
 ;
290 ;Value Amount - 7 (SOURCE: FILE=9002274.4055, FIELD=.02)
 ; form locator #39c
 D GET55
 S ABMR(41,290)=$P(ABM(55,7),"^",2)
 I $TR($G(ABMR(41,280))," ")="" S ABMR(41,290)=ABM("9SP") Q
 S ABMR(41,290)=$$FMT^ABMERUTL(ABMR(41,290),"9RNJ2")
 Q
 ;
300 ;Value Code - 8 (SOURCE: FILE=9002274.4055, FIELD=.01)
 ; form locator #40c
 D GET55
 S ABMR(41,300)=$P(ABM(55,8),U)
 S ABMR(41,300)=$$FMT^ABMERUTL(ABMR(41,300),"2RN")
 Q
 ;
310 ;Value Amount - 8 (SOURCE: FILE=9002274.4055, FIELD=.02)
 ; form locator #40c
 D GET55
 S ABMR(41,310)=$P(ABM(55,8),"^",2)
 I $TR($G(ABMR(41,300))," ")="" S ABMR(41,310)=ABM("9SP") Q
 S ABMR(41,310)=$$FMT^ABMERUTL(ABMR(41,310),"9NRJ2")
 Q
 ;
320 ;Value Code - 9 (SOURCE: FILE=9002274.4055, FIELD=.01)
 ; form locator #41c
 D GET55
 S ABMR(41,320)=$P(ABM(55,9),U)
 S ABMR(41,320)=$$FMT^ABMERUTL(ABMR(41,320),"2RN")
 Q
 ;
330 ;Value Amount - 9 (SOURCE: FILE=9002274.4055, FIELD=.02)
 ; form locator #41c
 D GET55
 S ABMR(41,330)=$P(ABM(55,9),"^",2)
 I $TR($G(ABMR(41,320))," ")="" S ABMR(41,330)=ABM("9SP") Q
 S ABMR(41,330)=$$FMT^ABMERUTL(ABMR(41,330),"9RNJ2")
 Q
 ;
340 ;Value Code - 10 (SOURCE: FILE=9002274.4055, FIELD=.01)
 ; form locator #39d
 D GET55
 S ABMR(41,340)=$P(ABM(55,10),U)
 S ABMR(41,340)=$$FMT^ABMERUTL(ABMR(41,340),"2NR")
 Q
 ;
350 ;Value Amount - 10 (SOURCE: FILE=9002274.4055, FIELD=.02)
 ; form locator #39d
 D GET55
 S ABMR(41,350)=$P(ABM(55,10),"^",2)
 I $TR($G(ABMR(41,340))," ")="" S ABMR(41,350)=ABM("9SP") Q
 S ABMR(41,350)=$$FMT^ABMERUTL(ABMR(41,350),"9NRJ2")
 Q
 ;
360 ;Value Code - 11 (SOURCE: FILE=900274.4055, FIELD=.01)
 ; form locator #40d
 D GET55
 S ABMR(41,360)=$P(ABM(55,11),U)
 S ABMR(41,360)=$$FMT^ABMERUTL(ABMR(41,360),"2NR")
 Q
 ;
370 ;Value Amount - 11 (SOURCE: FILE=9002274.4055, FIELD=.02)
 ; form locator #40d
 D GET55
 S ABMR(41,370)=$P(ABM(55,11),"^",2)
 I $TR($G(ABMR(41,360))," ")="" S ABMR(41,370)=ABM("9SP") Q
 S ABMR(41,370)=$$FMT^ABMERUTL(ABMR(41,370),"9NRJ2")
 Q
 ;
380 ;Value Code - 12 (SOURCE: FILE=9002274.4055, FIELD=.01)     
 ; form locator #41d
 D GET55
 S ABMR(41,380)=$P(ABM(55,12),U)
 S ABMR(41,380)=$$FMT^ABMERUTL(ABMR(41,380),"2NR")
 Q
 ;
390 ;Value Amount - 12 (SOURCE: FILE=9002274.4055, FIELD=.02)
 ; form locator #41d
 D GET55
 S ABMR(41,390)=$P(ABM(55,12),"^",2)
 I $TR($G(ABMR(41,380))," ")="" S ABMR(41,390)=ABM("9SP") Q
 S ABMR(41,390)=$$FMT^ABMERUTL(ABMR(41,390),"9NRJ2")
 Q
 ;
400 ;Filler (National Use)
 S ABMR(41,400)=""
 S ABMR(41,400)=$$FMT^ABMERUTL(ABMR(41,400),5)
 Q
 ;
EX(ABMX,ABMY) ;EXTRINSIC FUNCTION HERE
 ;
 ;  INPUT:  ABMX = data element
 ;             Y = bill internal entry number
 ;
 ; OUTPUT:     Y = bill internal entry number
 ;
 S ABMP("BDFN")=ABMY
 D SET^ABMERUTL
 I '$G(ABMP("NOFMT")) S ABMP("FMT")=0
 D @ABMX
 S Y=ABMR(41,ABMX)
 I $D(ABMP("FMT")) S ABMP("FMT")=1
 K ABMR(41,ABMX),ABMX,ABMY,ABMZ
 Q Y
 ;
GET53 ;GET CONDITION CODES
 Q:$D(ABM(55))
 N I
 S I=0,CNT=0
 F  S I=$O(^ABMDBILL(DUZ(2),ABMP("BDFN"),53,I)) Q:'I  D
 .S CNT=CNT+1
 .S ABM(53,CNT)=^ABMDBILL(DUZ(2),ABMP("BDFN"),53,I,0)
 .S ABM(53,CNT)=$P($G(^ABMDCODE(+ABM(53,CNT),0)),U)
 .S:$L(ABM(53,CNT))=1 ABM(53,CNT)="0"_ABM(53,CNT)
 F I=1:1:10 I '$D(ABM(53,I)) S ABM(53,I)=""
 Q
 ;
GET55 ;GET VALUE CODES
 Q:$D(ABM(55))
 N I
 S I=0,CNT=0
 F  S I=$O(^ABMDBILL(DUZ(2),ABMP("BDFN"),55,I)) Q:'I  D
 .S CNT=CNT+1
 .S ABM(55,CNT)=^ABMDBILL(DUZ(2),ABMP("BDFN"),55,I,0)
 .S $P(ABM(55,CNT),U)=$P($G(^ABMDCODE(+ABM(55,CNT),0)),U)
 F I=1:1:12 I '$D(ABM(55,I)) S ABM(55,I)="  "
 Q
