ABPAPCS0 ;PRIV-INS PAID CLAIM SUMMARY;[ 05/22/91  10:14 AM ]
 ;;1.4;AO PVT-INS TRACKING;*0*;IHS-OKC/KJR;JULY 25, 1991
PAT D XIT S ABPA("HD",1)=ABPATLE
 S ABPA("HD",2)="PAYMENT SUMMARY for a claim" D ^ABPAHD
 W !! D ^ABPAPATL I $D(ABPATDFN)'=1 D XIT Q
 I +ABPATDFN<1 G PAT
DT0 S $P(ABPAX,"=",80)="",ABPAHRN=$P(^ABPVAO(ABPATDFN,0),"^",3)
 S ABPAL=$E($P(^DIC(4,$P(^ABPVAO(DA,0),U,2),0),U),1,25)
 S $P(ABPAXX,"-",80)="" D ^ABPAPCS2 S ABPAC=0
 ;--------------------------------------------------------------------
GETDT ;PROCEDURE TO PROCESS DATE OF SERVICE INPUT
 K DIR,ABPADT S DIR(0)="D",DIR("A")="Select CLAIM DATE OF SERVICE"
 W ! D ^DIR G:'Y PAT S ABPACDT=+Y
 ;---------------------------------------------------------------------
DEVICE ;PROCEDURE TO PROCESS OUTPUT DEVICE SELECTION
 K %IS S %IS="H",%IS("A")="Use which device: " W ! D ^%ZIS U IO
 ;---------------------------------------------------------------------
PAID S ABPAI=1 D ^ABPAPCS2,^ABPAPCS1
 ;
ENDLST W:IO'=IO(0) @IOF X ^%ZIS("C")
 W ! S ABPAMESS="End of display...press any key to continue"
 D PAUSE^ABPAMAIN G PAT
 ;
XIT K ABPARECV,ABPAPD,ABPAENT,ABPADDFN,ABPATDFN,ABPADT,ABPADTD,ABPAPAT,D
 K ABPA,ABPAL,DIC,C,ABPADT,ABPAQKS,ABPAQK,ABPAHRN,ABPARECV,DA,J,K,Z,XQH
END K ABPAC,ABPAI,ABPAXX,ABPAINS,DIE,DR,%DT,ABPAX,ABPAZ,ABPAPDT,QFLG Q
