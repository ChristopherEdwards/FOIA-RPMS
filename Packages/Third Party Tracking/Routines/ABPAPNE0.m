ABPAPNE0 ;PVT-INS EDIT PATIENT ALIAS'S; [ 05/24/91  9:54 AM ]
 ;;1.4;AO PVT-INS TRACKING;*0*;IHS-OKC/KJR;JULY 25, 1991
INIT D XIT
 ;
HEAD S ABPA("HD",1)=ABPATLE
 S ABPA("HD",2)="ENTER/EDIT OTHER NAME(S) USED"
 D ^ABPAHD
 ;
FAC K DIC S DIC="^DIC(4,",DIC(0)="AEQZ"
 S DIC("A")="Select PATIENT FACILITY: " W !! D ^DIC I +Y<1 G XIT
 S ABPASITE=+Y
 ;
PAT W !! D ^ABPAPATL
 G:$D(ABPATDFN)'=1 INIT G:+ABPATDFN'>0 PAT
 ;
DISP S $P(ABPAX,"=",80)="",ABPAHRN=$P(^ABPVAO(ABPATDFN,0),"^",3)
 S ABPAL=$E($P(^DIC(4,$P(^ABPVAO(DA,0),U,2),0),U),1,14)
 S $P(ABPAXX,"-",80)=""
 D ^%AUCLS S X="AO PRIVATE INSURANCE SYSTEM - "
 S X=X_"ENTER/EDIT OTHER NAME(S) USED"
 W ?(40-($L(X)/2)),X
 W !,ABPAX,!,"Patient: ",ABPAPAT_"  ("_ABPAHRN_")",?51,"Facility: "
 W $E(ABPAL,1,18),!,ABPAX
 W !!,?22,"...Other names currently on file...",!
 S U="^",DC=1,D0=ABPATDFN K DXS W ! D ^ABPAPNA K DXS
 I +D1>0 D
 .W !,ABPAXX K X
 I +D1'>0 D
 .W ?20,"...no OTHER NAME'S currently on file...",!!,ABPAXX
CONT W ! S DX=0,DY=18 X XY W:IOST["QUME" ! W:$D(ABPARON)=1 @(ABPARON)
 S ABPAMESS="OTHER NAME USED by this patient..."
 S ABPAMESS=ABPAMESS_"format = LNAME,FNAME MI" W ABPAMESS
 W:$D(ABPARON)=1 @(ABPAROFF)
 K DIC,DIE,DA,DR
 S DIE="^ABPVAO(",DA=+ABPATDFN,DR=.015 D ^DIE
 G INIT
 ;
XIT K ABPADDFN,ABPATDFN,ABPADT,ABPADTD,ABPAPAT,D,ABPAX,ABPAFRDT,ABPATODT
 K ABPA,ABPAL,DIC,C,ABPADT,ABPAQKS,ABPAQK,ABPAHRN,DA,J,K,Z,XQH,ABPACSCR
 K ABPAC,ABPAI,ABPAXX,ABPAINS,DIE,DR,ABPAPD,ABPABDT,ABPASITE,DIC,X,Y
 K ABPAMESS
 Q
