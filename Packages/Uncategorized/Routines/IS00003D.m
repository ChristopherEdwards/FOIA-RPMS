IS00003D ;Compiled from script 'Generated: X1 IHS 835 IN-I' on DEC 03, 2002
 ;Part 5
 ;Copyright 2002 SAIC
EN S:DO @("@INV@(""MIA12"")")=$$PIECE^INHU(.LINE,DELIM,13)
 S:DO @("@INV@(""MIA13"")")=$$PIECE^INHU(.LINE,DELIM,14)
 S:DO @("@INV@(""MIA14"")")=$$PIECE^INHU(.LINE,DELIM,15)
 S:DO @("@INV@(""MIA15"")")=$$PIECE^INHU(.LINE,DELIM,16)
 S:DO @("@INV@(""MIA16"")")=$$PIECE^INHU(.LINE,DELIM,17)
 S:DO @("@INV@(""MIA17"")")=$$PIECE^INHU(.LINE,DELIM,18)
 S:DO @("@INV@(""MIA18"")")=$$PIECE^INHU(.LINE,DELIM,19)
 S:DO @("@INV@(""MIA19"")")=$$PIECE^INHU(.LINE,DELIM,20)
 S:DO @("@INV@(""MIA20"")")=$$PIECE^INHU(.LINE,DELIM,21)
 S:DO @("@INV@(""MIA21"")")=$$PIECE^INHU(.LINE,DELIM,22)
 S:DO @("@INV@(""MIA22"")")=$$PIECE^INHU(.LINE,DELIM,23)
 S:DO @("@INV@(""MIA23"")")=$$PIECE^INHU(.LINE,DELIM,24)
 S:DO @("@INV@(""MIA24"")")=$$PIECE^INHU(.LINE,DELIM,25)
 Q:MATCH
 D:'INVS MC^INHS
 D GET^INHOU(UIF,0) S LINE=$G(LINE),DO=0
 I 'MATCH,LINE?1"M"1"O"1"A".ANPC S DO=1,MATCH=1
 E  S LCT=LCT-CNT,DO=0
 S:DO @("@INV@(""MOA1"")")=$$PIECE^INHU(.LINE,DELIM,2)
 S:DO @("@INV@(""MOA2"")")=$$PIECE^INHU(.LINE,DELIM,3)
 S:DO @("@INV@(""MOA3"")")=$$PIECE^INHU(.LINE,DELIM,4)
 S:DO @("@INV@(""MOA4"")")=$$PIECE^INHU(.LINE,DELIM,5)
 S:DO @("@INV@(""MOA5"")")=$$PIECE^INHU(.LINE,DELIM,6)
 S:DO @("@INV@(""MOA6"")")=$$PIECE^INHU(.LINE,DELIM,7)
 S:DO @("@INV@(""MOA7"")")=$$PIECE^INHU(.LINE,DELIM,8)
 S:DO @("@INV@(""MOA8"")")=$$PIECE^INHU(.LINE,DELIM,9)
 S:DO @("@INV@(""MOA9"")")=$$PIECE^INHU(.LINE,DELIM,10)
 Q:MATCH
 Q
A1 ;WHILE $P(DATA,DELIM)="REF"
 S INI(1)=1 F  S DATA=$$GL^INHOU(UIF,LCT) Q:'$$CHECKSEG^INHOU("REF",0,1)  D  S INI(1)=INI(1)+1
 .D:'INVS MC^INHS
 .D GET^INHOU(UIF,0) S LINE=$G(LINE),DO=1
 .S:DO @("@INV@(""REF1"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,2)
 .S:DO @("@INV@(""REF2"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,3)
 .Q
 ;WHILE $P(DATA,DELIM)="REF"
 S INI(1)=1 F  S DATA=$$GL^INHOU(UIF,LCT) Q:'$$CHECKSEG^INHOU("REF",0,1)  D  S INI(1)=INI(1)+1
 .D:'INVS MC^INHS
 .D GET^INHOU(UIF,0) S LINE=$G(LINE),DO=1
 .S:DO @("@INV@(""REF1"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,2)
 .S:DO @("@INV@(""REF2"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,3)
 .Q
 ;WHILE $P(DATA,DELIM)="DTM"
 S INI(1)=1 F  S DATA=$$GL^INHOU(UIF,LCT) Q:'$$CHECKSEG^INHOU("DTM",0,1)  D  S INI(1)=INI(1)+1
 .D:'INVS MC^INHS
 .D GET^INHOU(UIF,0) S LINE=$G(LINE),DO=1
 .S:DO @("@INV@(""DTM1"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,2)
 .S:DO @("@INV@(""DTM2"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,3)
 .Q
 ;WHILE $P(DATA,DELIM)="PER"
 S INI(1)=1 F  S DATA=$$GL^INHOU(UIF,LCT) Q:'$$CHECKSEG^INHOU("PER",0,1)  D  S INI(1)=INI(1)+1
 .D:'INVS MC^INHS
 .D GET^INHOU(UIF,0) S LINE=$G(LINE),DO=1
 .S:DO @("@INV@(""PER1"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,2)
 .S:DO @("@INV@(""PER2"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,3)
 .S:DO @("@INV@(""PER3"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,4)
 .S:DO @("@INV@(""PER4"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,5)
 .S:DO @("@INV@(""PER5"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,6)
 .S:DO @("@INV@(""PER6"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,7)
 .S:DO @("@INV@(""PER7"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,8)
 .S:DO @("@INV@(""PER8"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,9)
 .Q
 ;WHILE $P(DATA,DELIM)="AMT"
 S INI(1)=1 F  S DATA=$$GL^INHOU(UIF,LCT) Q:'$$CHECKSEG^INHOU("AMT",0,1)  D  S INI(1)=INI(1)+1
 .D:'INVS MC^INHS
 .D GET^INHOU(UIF,0) S LINE=$G(LINE),DO=1
 .S:DO @("@INV@(""AMT1"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,2)
 .S:DO @("@INV@(""AMT2"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,3)
 .Q
 ;WHILE $P(DATA,DELIM)="QTY"
 S INI(1)=1 F  S DATA=$$GL^INHOU(UIF,LCT) Q:'$$CHECKSEG^INHOU("QTY",0,1)  D  S INI(1)=INI(1)+1
 .D:'INVS MC^INHS
 .D GET^INHOU(UIF,0) S LINE=$G(LINE),DO=1
 .S:DO @("@INV@(""QTY1"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,2)
 .S:DO @("@INV@(""QTY2"",INI(1))")=$$PIECE^INHU(.LINE,DELIM,3)
 .Q
 ;Start of GROUP
 F  S MATCH=0 D  Q:'MATCH
 .D:'INVS MC^INHS
 .D GET^INHOU(UIF,0) S LINE=$G(LINE),DO=0
 .I 'MATCH,LINE?1"S"1"V"1"C".ANPC S DO=1,MATCH=1
 .E  S LCT=LCT-CNT,DO=0
 .S:DO @("@INV@(""SVC1"")")=$$PIECE^INHU(.LINE,DELIM,2)
 .S:DO @("@INV@(""SVC2"")")=$$PIECE^INHU(.LINE,DELIM,3)
 .S:DO @("@INV@(""SVC3"")")=$$PIECE^INHU(.LINE,DELIM,4)
 .S:DO @("@INV@(""SVC4"")")=$$PIECE^INHU(.LINE,DELIM,5)
 .S:DO @("@INV@(""SVC5"")")=$$PIECE^INHU(.LINE,DELIM,6)
 .S:DO @("@INV@(""SVC6"")")=$$PIECE^INHU(.LINE,DELIM,7)
 .S:DO @("@INV@(""SVC7"")")=$$PIECE^INHU(.LINE,DELIM,8)
 .Q:MATCH
 .Q
 ;WHILE $P(DATA,DELIM)="DTM"
9 G EN^IS00003E
