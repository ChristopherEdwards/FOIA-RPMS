BWLOOP ;IHS/ANMC/MWR - UTILITY HARDCODED LOOPS.;15-Feb-2003 21:57;PLS
 ;;2.0;WOMEN'S HEALTH;**8**;MAY 16, 1996
 ;;* MICHAEL REMILLARD, DDS * ALASKA NATIVE MEDICAL CENTER *
 ;;  PROGRAMMER UTILITY LOOP FOR TECHNICAL SUPPORT OF BW PATIENT
 ;;  OR PROCEDURE FILE.  NOT CALLED BY ANY OPTION.
 ;
 D SETVARS^BWUTL5
 ;
 ;D PROC
 ;D PATIENT
 ;
EXIT ;EP
 D KILLALL^BWUTL8
 Q
 ;
 ;
PROC ;EP
 ;---> PROCEDURE LOOP.
 ;Q
 S BWIEN=0
 F  S BWIEN=$O(^BWPCD(BWIEN)) Q:'BWIEN  D
 .S PCDIEN=$P(^BWPCD(BWIEN,0),U,4)
 .S DIE="^BWPCD(",DA=BWIEN
 .S DR=".16////@;.17///"_$$CDCEXP^BWUTL5(PCDIEN,DUZ(2))
 .D ^DIE
 .W "."
 Q
 ;
PATIENT ;EP
 ;---> PATIENT LOOP.
 ;Q
 S N=0
 F  S N=$O(^BWP(N)) Q:'N  D
 .W !,$P(^BWP(N,0),U,21)
 .;S $P(^BWP(N,0),U,21)=""
 ;K ^BWP("CDC")
 Q
